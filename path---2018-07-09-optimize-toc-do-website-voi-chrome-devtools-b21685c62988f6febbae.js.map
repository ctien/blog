{"version":3,"sources":["webpack:///path---2018-07-09-optimize-toc-do-website-voi-chrome-devtools-b21685c62988f6febbae.js","webpack:///./.cache/json/2018-07-09-optimize-toc-do-website-voi-chrome-devtools.json"],"names":["webpackJsonp","./node_modules/json-loader/index.js!./.cache/json/2018-07-09-optimize-toc-do-website-voi-chrome-devtools.json","module","exports","data","markdownRemark","html","frontmatter","date","path","tags","title","desc","pathContext","prev","next","excerpt","id","timeToRead"],"mappings":"AAAAA,cAAc,KAERC,gHACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,KAAA,uiZAA+vMC,aAAg9MC,KAAA,gBAAAC,KAAA,0DAAAC,MAAA,WAAAC,MAAA,8CAAAC,KAAA,iFAAwPC,aAAgBC,MAAA,EAAAC,MAAqBC,QAAA,6PAAAV,KAAA,o1FAAAW,GAAA,+HAAAC,WAAA,EAAAX,aAA4wGC,KAAA,2BAAAC,KAAA,qDAAAC,MAAA,OAAAC,MAAA","file":"path---2018-07-09-optimize-toc-do-website-voi-chrome-devtools-b21685c62988f6febbae.js","sourcesContent":["webpackJsonp([30],{\n\n/***/ \"./node_modules/json-loader/index.js!./.cache/json/2018-07-09-optimize-toc-do-website-voi-chrome-devtools.json\":\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<h1>Bước 1: Kiểm tra trang web hiện tại (Audits)</h1>\\n<p>Bước đầu tiên này có 2 công dụng chính</p>\\n<ol>\\n<li>Làm thước đo cho các thay đổi đã áp dụng</li>\\n<li>Gợi ý những thay đổi nào thực sự ảnh hưởng nhiều tới tốc độ</li>\\n</ol>\\n<p>Trong bài này tác giả sẽ sử dụng trang <a href=\\\"https://glitch.com/edit/#!/tony?path=server.js:1:0\\\">https://glitch.com/edit/#!/tony?path=server.js:1:0</a> để làm demo</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/editor.png\\\"></p>\\n<h2>Xác định baseline</h2>\\n<p>Mở Chrome DevTools, chuyển qua tab <strong>Audits</strong>, nó có thể bị ẩn sau nút <strong>More Panels</strong>, có hình cái hải đăng</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/audits.png\\\" alt=\\\"Thiết đặt chính cho baseline\\\"></p>\\n<p>Thiết đặt như hình trên, sau đó click <strong>Run Audits</strong>, đợi nó chạy một tí sẽ có 1 cái report performance của site</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/report.png\\\"></p>\\n<p>Nếu thấy bất kỳ lỗi nào trên report, thử chạy trong 1 tab ẩn danh mới</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/error.png\\\"></p>\\n<h2>Đọc hiểu report</h2>\\n<p>Cái số ở trên cùng là thang điểm tổng hợp, càng cao càng tốt</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/overall.png\\\"></p>\\n<p>Ở mục <strong>Metrics</strong> cho kết quả các cách đánh giá, ví dụ như <strong>First Contentful Paint</strong> cho biết thời gian khi màn hình bắt đầu xuất hiện nội dung cho user, một milestone quan trọng để làm hài lòng user, <strong>First CPU Idle</strong> là thời điểm mà user có thể tương tác với site như click hay input gì đó, lúc này CPU của user đã có có thể xử lý yêu cầu</p>\\n<p>Hover lên mỗi metric để hiển thị phần description của nó, và click <strong>Learn More</strong> để đọc document.</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/fmp.png\\\"></p>\\n<p>Bên dưới Metric là một số hình screenshoot trên từng thời gian khác nhau</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/screenshots.png\\\"></p>\\n<p><strong>Opportunities</strong> sẽ đưa ra những tips để improve page load</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/opportunities.png\\\"></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/compression.png\\\"></p>\\n<p><strong>Diagnostics</strong> cung cấp thêm thông tin các nhân tố tác động lên tốc độ load</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/diagnostics.png\\\"></p>\\n<p><strong>Passed Audits</strong> là những điều trang hiện tại làm tốt</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/passed.png\\\"></p>\\n<h1>Bước 2: Thử nghiệm</h1>\\n<p>Trong mục <strong>Oppourtunities</strong> của audit report cung cấp gợi ý để improve performance, chúng ta sẽ làm theo những gợi ý này</p>\\n<h2>Bật text compression</h2>\\n<p>Top trong những điều có thể làm để improve, reduce, compress kích thước của file xuống trước khi send, giống như chúng ta zip file lại trước khi quăng vô email</p>\\n<p>Check cái file dạng text này trong tab <strong>Network</strong></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/network.png\\\"></p>\\n<p>Click <strong>use large request rows</strong> <img src=\\\"https://developers.google.com/web/tools/chrome-devtools/network-performance/imgs/large-resource-rows-button.png\\\"> để hiển thị nhiều thông tin hơn.</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/largerows.png\\\"></p>\\n<p>Tren cột <strong>Size</strong> sẽ có 2 giá trị. Giá trị ở trên là kích thước download, bên dưới là kích thước đã giải nén, nếu 2 giá trị này bằng nhau thì hiển nhiên là resource đó chưa compress trước khi gởi.</p>\\n<p>Xem giá trị của <code>content-encoding</code> trong HTTP header cũng sẽ biết được resource này đã compress chưa</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/headers.png\\\"></p>\\n<p>Như file <code>bundle.js</code> chúng ta không thấy <code>content-encoding</code> trong Response Headers, nghĩa là file chưa compress, thường giá compress cho nó sẽ là <code>gzip</code>, <code>deflate</code>, hay <code>br</code>. Xem thêm về các <a href=\\\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding#Directives\\\">kiểu compress này</a></p>\\n<p>Giải thích đủ rồi giờ ta đi compress thôi. Mở trang ví dụ của tác giả ra</p>\\n<p>File <code>server.js</code></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/server.png\\\"></p>\\n<p>Thêm đoạn code sau vào <code>server.js</code>. Dùng <code>app.use(compression())</code> trước <code>app.use(express.static('build'))</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">const</span> fs <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fs'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> compression <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'compression'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\napp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">use</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token function\\\">compression</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\napp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">use</span><span class=\\\"token punctuation\\\">(</span>express<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">static</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'build'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<p>Đợi Glitch deploy một tí. Quay lại trang demo và reload.</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/requests.png\\\"></p>\\n<p>File <code>bundle.js</code> lúc này đã compress</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/gzip.png\\\"></p>\\n<p>Chúng ta quay lại tab <strong>Audits</strong> để đánh giá kết quả, click <strong>Perform an audit</strong>, dùng các thiết đặt như trước, rồi chạy <strong>Run Audit</strong></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/report2.png\\\"></p>\\n<h2>Giảm kích thước ảnh</h2>\\n<p>Nếu user đang xài điện thoại có kích thước màn hình chỉ 500px chiều ngang thì việc load một cái hình rộng 1500px là ko thông minh lắm.</p>\\n<p>Trên trang report, click <strong>Properly size images</strong> để xem những hình nào nên resize, ví dụ bên dưới có 4 hình có thể tối ưu</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/resize.png\\\"></p>\\n<p>Tốt nhất</p>\\n<ul>\\n<li>Resize lại toàn bộ ảnh trong lúc build</li>\\n<li>Tạo nhiều kích thước file khác nhau trong lúc build và sử dụng <code>srcset</code> của thẻ <code>img</code>, như vậy lúc hiển thị, trình duyệt sẽ đảm nhiệm chọn file nào để phù hợp với thiết bị đang xem. <a href=\\\"https://developers.google.com/web/fundamentals/design-and-ux/responsive/images#relative_sized_images\\\">Xem thêm</a></li>\\n<li>Sử dụng image CDN để tự động thay đổi kích thước của hình khi request</li>\\n<li>Xem thêm <a href=\\\"https://images.guide/\\\">một số gợi ý này</a></li>\\n</ul>\\n<h2>Bỏ hết những resource nào block việc render</h2>\\n<p><strong>render-blocking resource</strong> là những file javascript hoặc CSS báo với trình duyệt rằng tụi tao file được load xong xui thì mày hả render nội dung trang web.</p>\\n<p>Trước tiên tìm xem những resource nào có thể được load mà ko cần chạy lúc page load.</p>\\n<ol>\\n<li>Click <strong>Eliminate render-blocking resources</strong> để xem các resources, ví dụ ở đây là <code>lodash.js</code> và <code>jquery.js</code></li>\\n<li>Ấn Control+Shift+P để mở Command Menu, gõ vào <code>Coverage</code> sau đó chọn <code>Show Coverage</code></li>\\n</ol>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/commandmenu.png\\\"></p>\\n<p>Một tab mới Coverage sẽ mở ra</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/coverage.png\\\"></p>\\n<ol start=\\\"3\\\">\\n<li>Click <strong>Reload</strong>. Trong tab Coverage sẽ cung cấp thông tin tổng quát về việc các đoạn code trong <code>bundle.js</code>, <code>jquery.js</code>, <code>lodash.js</code> trong lúc page load thì nó sẽ được sử dụng bao nhiêu. Kết quả bên dưới cho thấy có 76% code jQuery và 30% của Lodash ko được sử dụng</li>\\n</ol>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/coveragereport.png\\\"></p>\\n<ol start=\\\"4\\\">\\n<li>Click vào <code>jQuery</code>. DevTools sẽ mở ra tab Source Panel, những đoạn code nào chạy lúc page sẽ có màu xanh, màu đỏ là phần code không chạy</li>\\n</ol>\\n<p>Để xem chuyện gì sẽ xảy ra nếu ta không load jQuery và Lodash</p>\\n<ol>\\n<li>Mở tab Network</li>\\n<li>Ấn Control+Shift+P</li>\\n<li>Nhập <code>blocking</code> sau đó chọn <code>Show Request Blocking</code></li>\\n</ol>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/blocking.png\\\"></p>\\n<ol start=\\\"4\\\">\\n<li>Click <code>Add pattern</code> <img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/addpattern.png\\\">, nhập <code>/libs/*</code> sau đó <code>Enter</code> để confirm</li>\\n<li>Reload lại trang. File jQuery và Lodash sẽ được đánh dấu đỏ vì chúng ta ko load nó</li>\\n</ol>\\n<p>Xem thử kết quả trên Audit khi chúng ta xóa hẳn 2 file này</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/report4.png\\\"></p>\\n<h2>Hạn chế tối đa các xử lý ở main threat</h2>\\n<p>Main threat là thời điểm mà trình duyệt xử lý trước tiên để hiển thị nội dung trang, chẳng hạn như parsing, executing HTML, CSS, Javascript.</p>\\n<p>Mục tiêu ta sẽ dùng <strong>Performance</strong> panel để analyze những xử lý gì đang xảy ra ở main threat, tìm cách để defer hoặc bỏ hẳn</p>\\n<ol>\\n<li>Click <strong>Performance</strong> tab</li>\\n<li>Chọn <strong>Capture Settings</strong> <img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/capture.png\\\"></li>\\n<li>Thiết đặt <strong>Network</strong> ở <strong>Slow 3G</strong> và <strong>CPU</strong> xuống 6x slowdown để giả lập trang web được load ở nơi mạng chậm rì và thiết bị cùi mía.</li>\\n<li>Click <strong>Reload</strong> <img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/reload.png\\\"></li>\\n</ol>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/performance.png\\\"></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/overview.png\\\"></p>\\n<p>Expand mục <strong>User Timing</strong>, dựa trên kết quả này để đánh giá, ở đây site Tony này đăng chạy React Development mode nên tiêu tốn khá nhiều thời gian</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/usertiming.png\\\"></p>\\n<p>Expand mục <strong>Main</strong>, kéo xuống ở dưới cùng, do đang xử dụng framework nên những gì xảy ra ở trên thuộc về framework chúng ta sẽ không can thiệp gì được. Kết quả bên dưới cho thấy hàm <code>App</code> gọi khá nhiều lần đến <code>mineBitcoin</code></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/mine.png\\\"></p>\\n<p>Mở mục <strong>Bottom-Up</strong> để xem nhưng xử lý nào tiêu tốn nhiều thời gian nhất</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/bottomup.png\\\"></p>\\n<p>Cột <strong>Self Time</strong> hiển thị bao nhiều thời gian cho việc thực thi function. Ví dụ trên cho thấy 57% thời gian tiêu tốn ở main threat là chon function <code>maineBitcoin</code></p>\\n<p>Thay đổi một tí trong source code, chuyển qua mode production, xóa hàm mineBitcoin rồi chạy lại xem kết quả</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/report6.png\\\"></p>\\n<h1>Tổng kết</h1>\\n<ul>\\n<li>Luôn bắt đầu với <strong>Audit</strong>, xác lập baseline trước khi thực hiện tối ưu</li>\\n<li>Mỗi lần thay đổi một thứ thôi, sau đó chạy lại Audit để ghi nhận kết quả của thay đổi</li>\\n</ul>\\n<p><a href=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/get-started\\\">Link bài gốc</a></p>\",\"frontmatter\":{\"date\":\"July 09, 2018\",\"path\":\"/2018-07-09-optimize-toc-do-website-voi-chrome-devtools\",\"tags\":[\"website\"],\"title\":\"Nâng cao tốc độ website với Chrome DevTools\",\"desc\":\"Hướng dẫn sử dụng Chrome DevTools để phân tích và tối ưu hóa tốc độ website\"}}},\"pathContext\":{\"prev\":false,\"next\":{\"excerpt\":\"Cần nắm Khi sử dụng   các element con trong nó chúng ta sẽ canh theo 2 phương, gọi là phương ngang và phương đứng nhé. flex-direction  sẽ có 4 giá trị để ta set : element con xếp theo từng hàng, chỉ xuống hàng khi set  , hoặc viết tắt 2 thuộc tính...\",\"html\":\"<h2>Cần nắm</h2>\\n<p>Khi sử dụng <code>display: flex</code> các element con trong nó chúng ta sẽ canh theo 2 phương, gọi là phương ngang và phương đứng nhé.</p>\\n<p><img src=\\\"https://cms-assets.tutsplus.com/uploads/users/30/posts/30183/image/axes.png\\\"></p>\\n<h2>flex-direction</h2>\\n<p><code>flex-direction</code> sẽ có 4 giá trị để ta set</p>\\n<ol>\\n<li><code>flex-direction: row</code>: element con xếp theo từng hàng, chỉ xuống hàng khi set <code>flex-wrap: wrap</code>, hoặc viết tắt 2 thuộc tính này lại thành <code>flex-flow: row wrap</code></li>\\n<li><code>flex-direction: row-reserve</code>: element con xếp thèo hàng đi từ phải qua trái</li>\\n<li><code>flex-direction: column</code>: element con xếp theo cột từ trên xuống dưới</li>\\n<li><code>flex-direction: column-reserve</code>: element con xếp theo cột từ dưới lên trên</li>\\n</ol>\\n<p><img src=\\\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/02/flex-direction-illustration.jpg\\\"></p>\\n<h2>justify-content</h2>\\n<p>Với <code>justify-content</code> sẽ ảnh hưởng tới phương ngang của các element con, nếu <code>.container</code> chúng ta xếp các element theo dạng row (mặc định khi set <code>display: flex</code>), chúng ta can thịp chiều xếp đống element con trong row này bằng <code>justify-content</code></p>\\n<ol>\\n<li><code>flex-start</code> : elements từ trái qua phải trong 1 row</li>\\n<li><code>flex-end</code>: elements từ phải qua trái trong 1 row</li>\\n<li><code>center</code>: dàn các element từ giữa ra 2 bên</li>\\n<li><code>space-between</code>: dàn các element đều hết 1 row, chỉ chừa khoảng trống giữa 2 element, không chừa khoảng trống 2 element cuối</li>\\n<li><code>space-around</code>: tương tự như <code>space-around</code> nhưng chừa luôn khoảng trống 2 element cuối</li>\\n</ol>\\n<p><img src=\\\"https://uploads.toptal.io/blog/image/122559/toptal-blog-image-1490181185089.2_newsletter_copy_11-ac07811eeed0c992b21c660cd6119ca8.jpg\\\"></p>\\n<h2>align-items và align-self</h2>\\n<p>Thuộc tính <code>align-items</code> sẽ ảnh hưởng đến phương đứng của element con, nếu <code>align-items</code> dùng để set ở <code>.container</code> thì <code>align-self</code> sẽ set ở element con để override lại giá trị trên từng thằng con</p>\\n<p>Cả 2 thằng này đều có thể có những giá trị sau</p>\\n<ol>\\n<li><code>auto</code> giá trị <code>align-self</code> kế thừa từ <code>align-items</code>, mặc định của <code>align-self</code></li>\\n<li><code>flex-start</code>: align từ trên xuống</li>\\n<li><code>flex-end</code>: align từ dưới lên</li>\\n<li><code>center</code>: align từ giữa ra trên dưới</li>\\n<li><code>baseline</code>: align theo baseline của các element nằm ngang nhau</li>\\n<li><code>stretch</code>: kéo độ cao của element để phủ hết chiều đứng của <code>.container</code></li>\\n</ol>\\n<p><img src=\\\"https://image.slidesharecdn.com/css3-layoutinctrlpdf-130218082731-phpapp01/95/slide-53-1024.jpg\\\"></p>\",\"id\":\"C:/xampp/htdocs/luckyluu/posts/2018-07-04-tong-hop-canh-le-voi-flexbox-alignment/index.md absPath of file >>> MarkdownRemark\",\"timeToRead\":2,\"frontmatter\":{\"date\":\"2018-07-04T13:35:13.234Z\",\"path\":\"/2018-07-04-tong-hop-canh-le-voi-flexbox-alignment\",\"tags\":[\"css\"],\"title\":\"Tổng quát về canh lề với Flexbox display\"}}}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---2018-07-09-optimize-toc-do-website-voi-chrome-devtools-b21685c62988f6febbae.js","module.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<h1>Bước 1: Kiểm tra trang web hiện tại (Audits)</h1>\\n<p>Bước đầu tiên này có 2 công dụng chính</p>\\n<ol>\\n<li>Làm thước đo cho các thay đổi đã áp dụng</li>\\n<li>Gợi ý những thay đổi nào thực sự ảnh hưởng nhiều tới tốc độ</li>\\n</ol>\\n<p>Trong bài này tác giả sẽ sử dụng trang <a href=\\\"https://glitch.com/edit/#!/tony?path=server.js:1:0\\\">https://glitch.com/edit/#!/tony?path=server.js:1:0</a> để làm demo</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/editor.png\\\"></p>\\n<h2>Xác định baseline</h2>\\n<p>Mở Chrome DevTools, chuyển qua tab <strong>Audits</strong>, nó có thể bị ẩn sau nút <strong>More Panels</strong>, có hình cái hải đăng</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/audits.png\\\" alt=\\\"Thiết đặt chính cho baseline\\\"></p>\\n<p>Thiết đặt như hình trên, sau đó click <strong>Run Audits</strong>, đợi nó chạy một tí sẽ có 1 cái report performance của site</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/report.png\\\"></p>\\n<p>Nếu thấy bất kỳ lỗi nào trên report, thử chạy trong 1 tab ẩn danh mới</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/error.png\\\"></p>\\n<h2>Đọc hiểu report</h2>\\n<p>Cái số ở trên cùng là thang điểm tổng hợp, càng cao càng tốt</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/overall.png\\\"></p>\\n<p>Ở mục <strong>Metrics</strong> cho kết quả các cách đánh giá, ví dụ như <strong>First Contentful Paint</strong> cho biết thời gian khi màn hình bắt đầu xuất hiện nội dung cho user, một milestone quan trọng để làm hài lòng user, <strong>First CPU Idle</strong> là thời điểm mà user có thể tương tác với site như click hay input gì đó, lúc này CPU của user đã có có thể xử lý yêu cầu</p>\\n<p>Hover lên mỗi metric để hiển thị phần description của nó, và click <strong>Learn More</strong> để đọc document.</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/fmp.png\\\"></p>\\n<p>Bên dưới Metric là một số hình screenshoot trên từng thời gian khác nhau</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/screenshots.png\\\"></p>\\n<p><strong>Opportunities</strong> sẽ đưa ra những tips để improve page load</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/opportunities.png\\\"></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/compression.png\\\"></p>\\n<p><strong>Diagnostics</strong> cung cấp thêm thông tin các nhân tố tác động lên tốc độ load</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/diagnostics.png\\\"></p>\\n<p><strong>Passed Audits</strong> là những điều trang hiện tại làm tốt</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/passed.png\\\"></p>\\n<h1>Bước 2: Thử nghiệm</h1>\\n<p>Trong mục <strong>Oppourtunities</strong> của audit report cung cấp gợi ý để improve performance, chúng ta sẽ làm theo những gợi ý này</p>\\n<h2>Bật text compression</h2>\\n<p>Top trong những điều có thể làm để improve, reduce, compress kích thước của file xuống trước khi send, giống như chúng ta zip file lại trước khi quăng vô email</p>\\n<p>Check cái file dạng text này trong tab <strong>Network</strong></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/network.png\\\"></p>\\n<p>Click <strong>use large request rows</strong> <img src=\\\"https://developers.google.com/web/tools/chrome-devtools/network-performance/imgs/large-resource-rows-button.png\\\"> để hiển thị nhiều thông tin hơn.</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/largerows.png\\\"></p>\\n<p>Tren cột <strong>Size</strong> sẽ có 2 giá trị. Giá trị ở trên là kích thước download, bên dưới là kích thước đã giải nén, nếu 2 giá trị này bằng nhau thì hiển nhiên là resource đó chưa compress trước khi gởi.</p>\\n<p>Xem giá trị của <code>content-encoding</code> trong HTTP header cũng sẽ biết được resource này đã compress chưa</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/headers.png\\\"></p>\\n<p>Như file <code>bundle.js</code> chúng ta không thấy <code>content-encoding</code> trong Response Headers, nghĩa là file chưa compress, thường giá compress cho nó sẽ là <code>gzip</code>, <code>deflate</code>, hay <code>br</code>. Xem thêm về các <a href=\\\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding#Directives\\\">kiểu compress này</a></p>\\n<p>Giải thích đủ rồi giờ ta đi compress thôi. Mở trang ví dụ của tác giả ra</p>\\n<p>File <code>server.js</code></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/server.png\\\"></p>\\n<p>Thêm đoạn code sau vào <code>server.js</code>. Dùng <code>app.use(compression())</code> trước <code>app.use(express.static('build'))</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">const</span> fs <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fs'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> compression <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'compression'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\napp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">use</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token function\\\">compression</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\napp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">use</span><span class=\\\"token punctuation\\\">(</span>express<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">static</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'build'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<p>Đợi Glitch deploy một tí. Quay lại trang demo và reload.</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/requests.png\\\"></p>\\n<p>File <code>bundle.js</code> lúc này đã compress</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/gzip.png\\\"></p>\\n<p>Chúng ta quay lại tab <strong>Audits</strong> để đánh giá kết quả, click <strong>Perform an audit</strong>, dùng các thiết đặt như trước, rồi chạy <strong>Run Audit</strong></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/report2.png\\\"></p>\\n<h2>Giảm kích thước ảnh</h2>\\n<p>Nếu user đang xài điện thoại có kích thước màn hình chỉ 500px chiều ngang thì việc load một cái hình rộng 1500px là ko thông minh lắm.</p>\\n<p>Trên trang report, click <strong>Properly size images</strong> để xem những hình nào nên resize, ví dụ bên dưới có 4 hình có thể tối ưu</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/resize.png\\\"></p>\\n<p>Tốt nhất</p>\\n<ul>\\n<li>Resize lại toàn bộ ảnh trong lúc build</li>\\n<li>Tạo nhiều kích thước file khác nhau trong lúc build và sử dụng <code>srcset</code> của thẻ <code>img</code>, như vậy lúc hiển thị, trình duyệt sẽ đảm nhiệm chọn file nào để phù hợp với thiết bị đang xem. <a href=\\\"https://developers.google.com/web/fundamentals/design-and-ux/responsive/images#relative_sized_images\\\">Xem thêm</a></li>\\n<li>Sử dụng image CDN để tự động thay đổi kích thước của hình khi request</li>\\n<li>Xem thêm <a href=\\\"https://images.guide/\\\">một số gợi ý này</a></li>\\n</ul>\\n<h2>Bỏ hết những resource nào block việc render</h2>\\n<p><strong>render-blocking resource</strong> là những file javascript hoặc CSS báo với trình duyệt rằng tụi tao file được load xong xui thì mày hả render nội dung trang web.</p>\\n<p>Trước tiên tìm xem những resource nào có thể được load mà ko cần chạy lúc page load.</p>\\n<ol>\\n<li>Click <strong>Eliminate render-blocking resources</strong> để xem các resources, ví dụ ở đây là <code>lodash.js</code> và <code>jquery.js</code></li>\\n<li>Ấn Control+Shift+P để mở Command Menu, gõ vào <code>Coverage</code> sau đó chọn <code>Show Coverage</code></li>\\n</ol>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/commandmenu.png\\\"></p>\\n<p>Một tab mới Coverage sẽ mở ra</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/coverage.png\\\"></p>\\n<ol start=\\\"3\\\">\\n<li>Click <strong>Reload</strong>. Trong tab Coverage sẽ cung cấp thông tin tổng quát về việc các đoạn code trong <code>bundle.js</code>, <code>jquery.js</code>, <code>lodash.js</code> trong lúc page load thì nó sẽ được sử dụng bao nhiêu. Kết quả bên dưới cho thấy có 76% code jQuery và 30% của Lodash ko được sử dụng</li>\\n</ol>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/coveragereport.png\\\"></p>\\n<ol start=\\\"4\\\">\\n<li>Click vào <code>jQuery</code>. DevTools sẽ mở ra tab Source Panel, những đoạn code nào chạy lúc page sẽ có màu xanh, màu đỏ là phần code không chạy</li>\\n</ol>\\n<p>Để xem chuyện gì sẽ xảy ra nếu ta không load jQuery và Lodash</p>\\n<ol>\\n<li>Mở tab Network</li>\\n<li>Ấn Control+Shift+P</li>\\n<li>Nhập <code>blocking</code> sau đó chọn <code>Show Request Blocking</code></li>\\n</ol>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/blocking.png\\\"></p>\\n<ol start=\\\"4\\\">\\n<li>Click <code>Add pattern</code> <img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/addpattern.png\\\">, nhập <code>/libs/*</code> sau đó <code>Enter</code> để confirm</li>\\n<li>Reload lại trang. File jQuery và Lodash sẽ được đánh dấu đỏ vì chúng ta ko load nó</li>\\n</ol>\\n<p>Xem thử kết quả trên Audit khi chúng ta xóa hẳn 2 file này</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/report4.png\\\"></p>\\n<h2>Hạn chế tối đa các xử lý ở main threat</h2>\\n<p>Main threat là thời điểm mà trình duyệt xử lý trước tiên để hiển thị nội dung trang, chẳng hạn như parsing, executing HTML, CSS, Javascript.</p>\\n<p>Mục tiêu ta sẽ dùng <strong>Performance</strong> panel để analyze những xử lý gì đang xảy ra ở main threat, tìm cách để defer hoặc bỏ hẳn</p>\\n<ol>\\n<li>Click <strong>Performance</strong> tab</li>\\n<li>Chọn <strong>Capture Settings</strong> <img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/capture.png\\\"></li>\\n<li>Thiết đặt <strong>Network</strong> ở <strong>Slow 3G</strong> và <strong>CPU</strong> xuống 6x slowdown để giả lập trang web được load ở nơi mạng chậm rì và thiết bị cùi mía.</li>\\n<li>Click <strong>Reload</strong> <img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/reload.png\\\"></li>\\n</ol>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/performance.png\\\"></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/overview.png\\\"></p>\\n<p>Expand mục <strong>User Timing</strong>, dựa trên kết quả này để đánh giá, ở đây site Tony này đăng chạy React Development mode nên tiêu tốn khá nhiều thời gian</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/usertiming.png\\\"></p>\\n<p>Expand mục <strong>Main</strong>, kéo xuống ở dưới cùng, do đang xử dụng framework nên những gì xảy ra ở trên thuộc về framework chúng ta sẽ không can thiệp gì được. Kết quả bên dưới cho thấy hàm <code>App</code> gọi khá nhiều lần đến <code>mineBitcoin</code></p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/mine.png\\\"></p>\\n<p>Mở mục <strong>Bottom-Up</strong> để xem nhưng xử lý nào tiêu tốn nhiều thời gian nhất</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/bottomup.png\\\"></p>\\n<p>Cột <strong>Self Time</strong> hiển thị bao nhiều thời gian cho việc thực thi function. Ví dụ trên cho thấy 57% thời gian tiêu tốn ở main threat là chon function <code>maineBitcoin</code></p>\\n<p>Thay đổi một tí trong source code, chuyển qua mode production, xóa hàm mineBitcoin rồi chạy lại xem kết quả</p>\\n<p><img src=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/imgs/report6.png\\\"></p>\\n<h1>Tổng kết</h1>\\n<ul>\\n<li>Luôn bắt đầu với <strong>Audit</strong>, xác lập baseline trước khi thực hiện tối ưu</li>\\n<li>Mỗi lần thay đổi một thứ thôi, sau đó chạy lại Audit để ghi nhận kết quả của thay đổi</li>\\n</ul>\\n<p><a href=\\\"https://developers.google.com/web/tools/chrome-devtools/speed/get-started\\\">Link bài gốc</a></p>\",\"frontmatter\":{\"date\":\"July 09, 2018\",\"path\":\"/2018-07-09-optimize-toc-do-website-voi-chrome-devtools\",\"tags\":[\"website\"],\"title\":\"Nâng cao tốc độ website với Chrome DevTools\",\"desc\":\"Hướng dẫn sử dụng Chrome DevTools để phân tích và tối ưu hóa tốc độ website\"}}},\"pathContext\":{\"prev\":false,\"next\":{\"excerpt\":\"Cần nắm Khi sử dụng   các element con trong nó chúng ta sẽ canh theo 2 phương, gọi là phương ngang và phương đứng nhé. flex-direction  sẽ có 4 giá trị để ta set : element con xếp theo từng hàng, chỉ xuống hàng khi set  , hoặc viết tắt 2 thuộc tính...\",\"html\":\"<h2>Cần nắm</h2>\\n<p>Khi sử dụng <code>display: flex</code> các element con trong nó chúng ta sẽ canh theo 2 phương, gọi là phương ngang và phương đứng nhé.</p>\\n<p><img src=\\\"https://cms-assets.tutsplus.com/uploads/users/30/posts/30183/image/axes.png\\\"></p>\\n<h2>flex-direction</h2>\\n<p><code>flex-direction</code> sẽ có 4 giá trị để ta set</p>\\n<ol>\\n<li><code>flex-direction: row</code>: element con xếp theo từng hàng, chỉ xuống hàng khi set <code>flex-wrap: wrap</code>, hoặc viết tắt 2 thuộc tính này lại thành <code>flex-flow: row wrap</code></li>\\n<li><code>flex-direction: row-reserve</code>: element con xếp thèo hàng đi từ phải qua trái</li>\\n<li><code>flex-direction: column</code>: element con xếp theo cột từ trên xuống dưới</li>\\n<li><code>flex-direction: column-reserve</code>: element con xếp theo cột từ dưới lên trên</li>\\n</ol>\\n<p><img src=\\\"http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/02/flex-direction-illustration.jpg\\\"></p>\\n<h2>justify-content</h2>\\n<p>Với <code>justify-content</code> sẽ ảnh hưởng tới phương ngang của các element con, nếu <code>.container</code> chúng ta xếp các element theo dạng row (mặc định khi set <code>display: flex</code>), chúng ta can thịp chiều xếp đống element con trong row này bằng <code>justify-content</code></p>\\n<ol>\\n<li><code>flex-start</code> : elements từ trái qua phải trong 1 row</li>\\n<li><code>flex-end</code>: elements từ phải qua trái trong 1 row</li>\\n<li><code>center</code>: dàn các element từ giữa ra 2 bên</li>\\n<li><code>space-between</code>: dàn các element đều hết 1 row, chỉ chừa khoảng trống giữa 2 element, không chừa khoảng trống 2 element cuối</li>\\n<li><code>space-around</code>: tương tự như <code>space-around</code> nhưng chừa luôn khoảng trống 2 element cuối</li>\\n</ol>\\n<p><img src=\\\"https://uploads.toptal.io/blog/image/122559/toptal-blog-image-1490181185089.2_newsletter_copy_11-ac07811eeed0c992b21c660cd6119ca8.jpg\\\"></p>\\n<h2>align-items và align-self</h2>\\n<p>Thuộc tính <code>align-items</code> sẽ ảnh hưởng đến phương đứng của element con, nếu <code>align-items</code> dùng để set ở <code>.container</code> thì <code>align-self</code> sẽ set ở element con để override lại giá trị trên từng thằng con</p>\\n<p>Cả 2 thằng này đều có thể có những giá trị sau</p>\\n<ol>\\n<li><code>auto</code> giá trị <code>align-self</code> kế thừa từ <code>align-items</code>, mặc định của <code>align-self</code></li>\\n<li><code>flex-start</code>: align từ trên xuống</li>\\n<li><code>flex-end</code>: align từ dưới lên</li>\\n<li><code>center</code>: align từ giữa ra trên dưới</li>\\n<li><code>baseline</code>: align theo baseline của các element nằm ngang nhau</li>\\n<li><code>stretch</code>: kéo độ cao của element để phủ hết chiều đứng của <code>.container</code></li>\\n</ol>\\n<p><img src=\\\"https://image.slidesharecdn.com/css3-layoutinctrlpdf-130218082731-phpapp01/95/slide-53-1024.jpg\\\"></p>\",\"id\":\"C:/xampp/htdocs/luckyluu/posts/2018-07-04-tong-hop-canh-le-voi-flexbox-alignment/index.md absPath of file >>> MarkdownRemark\",\"timeToRead\":2,\"frontmatter\":{\"date\":\"2018-07-04T13:35:13.234Z\",\"path\":\"/2018-07-04-tong-hop-canh-le-voi-flexbox-alignment\",\"tags\":[\"css\"],\"title\":\"Tổng quát về canh lề với Flexbox display\"}}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/2018-07-09-optimize-toc-do-website-voi-chrome-devtools.json\n// module id = ./node_modules/json-loader/index.js!./.cache/json/2018-07-09-optimize-toc-do-website-voi-chrome-devtools.json\n// module chunks = 30"],"sourceRoot":""}