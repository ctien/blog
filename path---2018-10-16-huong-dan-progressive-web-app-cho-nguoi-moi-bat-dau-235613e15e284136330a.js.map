{"version":3,"sources":["webpack:///path---2018-10-16-huong-dan-progressive-web-app-cho-nguoi-moi-bat-dau-235613e15e284136330a.js","webpack:///./.cache/json/2018-10-16-huong-dan-progressive-web-app-cho-nguoi-moi-bat-dau.json"],"names":["webpackJsonp","1340","module","exports","data","markdownRemark","html","timeToRead","excerpt","frontmatter","title","cover","date","category","tags","desc","fields","slug","pathContext","prev","type","next"],"mappings":"AAAAA,cAAc,gBAERC,KACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,KAAA;AAA2kjDC,WAAA,GAAAC,QAAA,+IAAAC,aAAo3EC,MAAA,4CAAAC,MAAA,GAAAC,KAAA,aAAAC,SAAA,KAAAC,MAAA,OAAAC,KAAA,4EAAoMC,QAAWC,KAAA,qEAA2EC,aAAgBD,KAAA,kEAAAE,MAAiFV,aAAeC,MAAA,2DAAAK,KAAA,kEAAAK,KAAA,OAAAP,SAAA,KAAAC,MAAA,kBAAAF,KAAA,aAAAD,MAAA,IAAmOK,QAAWC,KAAA,oEAA0EI,MAASZ,aAAeC,MAAA,+BAAAK,KAAA,iHAAAK,KAAA,OAAAP,SAAA,KAAAC,MAAA,sBAAAF,KAAA,aAAAD,MAAA,IAA0PK,QAAWC,KAAA","file":"path---2018-10-16-huong-dan-progressive-web-app-cho-nguoi-moi-bat-dau-235613e15e284136330a.js","sourcesContent":["webpackJsonp([10890133112871],{\n\n/***/ 1340:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<!-- TOC -->\\n<ul>\\n<li><a href=\\\"#1-gi%E1%BB%9Bi-thi%E1%BB%87u\\\">1. Giới thiệu</a></li>\\n<li><a href=\\\"#2-b%E1%BA%AFt-%C4%91%E1%BA%A7u\\\">2. Bắt đầu</a></li>\\n<li><a href=\\\"#3ph%C6%B0%C6%A1ng-ph%C3%A1p-app-shell\\\">3.Phương pháp App Shell</a></li>\\n<li><a href=\\\"#4-implement-app-shell\\\">4. Implement App Shell</a></li>\\n<li><a href=\\\"#5-l%E1%BA%A7n-load-%C4%91%E1%BA%A7u-ti%C3%AAn\\\">5. Lần load đầu tiên</a></li>\\n<li>\\n<p><a href=\\\"#6-s%E1%BB%AD-d%E1%BB%A5ng-service-worker-%C4%91%E1%BB%83-pre-cache\\\">6. Sử dụng Service Worker để pre-cache</a></p>\\n<ul>\\n<li><a href=\\\"#%C4%91%C4%83ng-k%C3%BD-service-worker\\\">Đăng ký Service worker</a></li>\\n<li><a href=\\\"#cache-site-asset\\\">Cache site asset</a></li>\\n<li><a href=\\\"#%C4%91%C6%B0a-app-shell-v%C3%A0o-cache\\\">Đưa app shell vào cache</a></li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\\"#7-s%E1%BB%AD-d%E1%BB%A5ng-service-worker-%C4%91%E1%BB%83-cache-d%E1%BB%AF-li%E1%BB%87u-forecast\\\">7. Sử dụng service worker để cache dữ liệu forecast</a></p>\\n<ul>\\n<li><a href=\\\"#t%C6%B0%C6%A1ng-quan-gi%E1%BB%AFa-network-request-v%C3%A0-cache\\\">Tương quan giữa network request và cache</a></li>\\n<li><a href=\\\"#g%E1%BB%ADi-request\\\">Gửi request</a></li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\\"#8-h%E1%BB%97-tr%E1%BB%A3-c%C3%A1c-t%C6%B0%C6%A1ng-t%C3%A1c-native\\\">8. Hỗ trợ các tương tác native</a></p>\\n<ul>\\n<li><a href=\\\"#qu%E1%BA%A3ng-c%C3%A1o-c%C3%A0i-%C4%91%E1%BA%B7t-web-app-v%C3%A0-add-to-homescreen-tr%C3%AAn-chrome-cho-mobile\\\">Quảng cáo cài đặt Web App và Add to Homescreen trên Chrome cho mobile</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"#9-deploy-v%C3%A0-t%E1%BB%95-ch%E1%BB%A9c-%C4%83n-m%E1%BB%ABng\\\">9. Deploy và tổ chức ăn mừng</a></li>\\n<li><a href=\\\"#10-%C4%91%E1%BB%8Dc-th%C3%AAm\\\">10. Đọc thêm</a></li>\\n</ul>\\n<!-- /TOC -->\\n<h1 id=\\\"1-giới-thiệu\\\"><a href=\\\"#1-gi%E1%BB%9Bi-thi%E1%BB%87u\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>1. Giới thiệu</h1>\\n<p>Trong lúc dựng một Progressive Web App, chúng ta cần nhớ những điều sau</p>\\n<ul>\\n<li>Không quan trọng user đang dùng trình duyệt gì</li>\\n<li>Hỗ trợ tốt trên nhiều loại thiết bị desktop, mobile, tablet</li>\\n<li>Sử dụng service worker để có thể làm việc offline hoặc khi mạng chậm</li>\\n<li>Như một ứng dụng thực thụ, cung cấp không chỉ nội dung mà cả tính năng</li>\\n<li>Luôn cập nhập mới nhất</li>\\n<li>Host thông qua HTTPS để đảm bảo an toàn</li>\\n<li>Cho phép các công cụ tìm kiếm chạy index</li>\\n<li>Cho phép user cài đặt như một ứng dụng hiển thị trang chủ, menu chính</li>\\n<li>Dễ dàng chia sẻ bằng URL</li>\\n</ul>\\n<p>Chúng ta sẽ đi qua từng bước một để làm một progressive web app, bao gồm cân nhắc thiết kế, implement chi tiết, đảm bảo ứng dụng chúng ta đáp ứng các nguyên tắc trên</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/166c3b4982e4a0ad.png\\\" alt=\\\"Ứng dụng thông báo thời tiết.\\\"></p>\\n<p>Chúng ta sẽ tìm hiểu các vấn đề</p>\\n<ul>\\n<li>Cách thiết kế sử dụng phương pháp \\\"app shell\\\"</li>\\n<li>Làm thế nào để chạy offline</li>\\n<li>Lưu dữ liệu để sử dụng offline</li>\\n</ul>\\n<p>Bạn cần gì để follow tuts này</p>\\n<ul>\\n<li>Phiên bản mới nhất của Chrome</li>\\n<li><a href=\\\"https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb\\\">Web Server</a> cho Chrome</li>\\n<li>Download <a href=\\\"https://github.com/googlecodelabs/your-first-pwapp/archive/master.zip\\\">Source code ví dụ</a></li>\\n<li>Công cụ soạn thảo</li>\\n<li>Kiến thức căn bản HTML/CSS/Javascript và Chrome DevTools</li>\\n</ul>\\n<h1 id=\\\"2-bắt-đầu\\\"><a href=\\\"#2-b%E1%BA%AFt-%C4%91%E1%BA%A7u\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>2. Bắt đầu</h1>\\n<p>Download <a href=\\\"https://github.com/googlecodelabs/your-first-pwapp/archive/master.zip\\\">Source Code</a>, sau khi giải nén, bạn sẽ thấy các thư mục step-NN chứa source code tương ứng với từng bước của tuts, để bạn tham khảo, nên tự viết cho nhớ nhé. Chúng ta làm việc chủ yếu trong thư mục work</p>\\n<p>Cài Web Server For Chrome từ Chrome Web Store</p>\\n<p>Click vào nút <code class=\\\"language-text\\\">Apps</code> trên thanh bookmarks</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/9efdf0d1258b78e4.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Trên cửa sổ mới click icon Web Server</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/dc07bbc9fcfe7c5b.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Hộp thoại config sau sẽ xuất hiện</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/433870360ad308d4.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Click <strong>Choose folder</strong>, trỏ đến thư mục work</p>\\n<p>Bên dưới mục Options, check vào nút \\\"Automatically show index.html\\\"</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/39b4e0371e9703e6.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Sau đó click <strong>Stop</strong> rồi <strong>restart</strong> server</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/daefd30e8a290df5.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Click vào Web Server URL để truy cập site</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/aa64e93e8151b642.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Nếu bạn thấy icon spinner thì bạn đã thành công</p>\\n<h1 id=\\\"3phương-pháp-app-shell\\\"><a href=\\\"#3ph%C6%B0%C6%A1ng-ph%C3%A1p-app-shell\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>3.Phương pháp App Shell</h1>\\n<p>App Shell bao gồm HTML/CSS/Javascript <strong>cần thiết nhất</strong> để đảm bảo ứng dụng hoạt động. First load phải nhanh và được cache ngay lập tức. Những lần truy cập sau, những shell file này sẽ được load từ máy của user</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/156b5e3cc8373d55.png\\\" alt=\\\"Phương pháp App Shell\\\"></p>\\n<p>Phương pháp App Shell tách phần core của ứng dụng, UI và data. Những phần UI và infrastructure được cache ở local sử dụng service worker, như vậy lần sau nó chỉ cần gọi lên để lấy dữ liệu.</p>\\n<p>Service worker là script của trình duyệt chạy nền, tách biệt với phần trang web, cho phép không cần web page hoặc giao diện tương tác người dùng.</p>\\n<p>Nói cách khác, app shell tương tự như phần code bundle của react.</p>\\n<p><strong>Tại sao sử dụng phương pháp App Shell</strong></p>\\n<p>Dễ thấy là nó có làm chúng ta feel like native app, load cực nhanh</p>\\n<p><strong>Thiết kế</strong></p>\\n<p>Chia ra thành các core component</p>\\n<ul>\\n<li>Phần nào cần hiển thị trên màn hình ngay lập tức</li>\\n<li>Các UI nào là key của ứng dụng</li>\\n<li>Những file nào khác cần thiết: hình, style</li>\\n</ul>\\n<p>Với ứng dụng Thông báo thời tiết</p>\\n<ul>\\n<li>Header: title, add/refresh button</li>\\n<li>Forecast card</li>\\n<li>Dialog để thêm thành phố</li>\\n<li>Loading indicator</li>\\n</ul>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/166c3b4982e4a0ad.png\\\" alt=\\\"Tại sao sử dụng phương pháp App Shell\\\"></p>\\n<p>Với ứng dụng phức tạp hơn, chúng ta không nên load toàn bộ UI một lúc, lazy load khi cần đến</p>\\n<h1 id=\\\"4-implement-app-shell\\\"><a href=\\\"#4-implement-app-shell\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>4. Implement App Shell</h1>\\n<p>Ở đây chúng ta tập trung làm PWA, nên có thể dùng luôn phần code ví dụ</p>\\n<p>Copy toàn bộ file trong thư mục <strong>step-04</strong> vào work, tìm file <code class=\\\"language-text\\\">index.html</code>, bỏ comment chỗ đoạn script</p>\\n<p>F5 lại trang để thấy kết quả</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/166c3b4982e4a0ad.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Đây chỉ là dữ liệu giả, để test.</p>\\n<h1 id=\\\"5-lần-load-đầu-tiên\\\"><a href=\\\"#5-l%E1%BA%A7n-load-%C4%91%E1%BA%A7u-ti%C3%AAn\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>5. Lần load đầu tiên</h1>\\n<p>PWA khi khởi chạy là phải thật nhanh, chúng cache các shell file để đạt được tốc độ đó.</p>\\n<p>Ở lần chạy đầu tiên nay chúng ta cũng gọi lên API để lấy dữ liệu, được viết trong hàm <code class=\\\"language-text\\\">initialWeatherForecast</code>, nếu thích bạn có thể đọc.</p>\\n<p>Với các lần load sau, chúng ta sẽ lưu lại danh sách thành phố user đã thêm, sử dụng <code class=\\\"language-text\\\">IndexedDB</code>, để đơn giản hơn với ví dụ này, chúng ta dùng <code class=\\\"language-text\\\">localStorage</code>, khi làm một app thực thụ nên tránh sử dụng vì đôi khi rất chậm trên một số thiết bị.</p>\\n<p>Toàn bộ source code trong <strong>step-05</strong></p>\\n<h1 id=\\\"6-sử-dụng-service-worker-để-pre-cache\\\"><a href=\\\"#6-s%E1%BB%AD-d%E1%BB%A5ng-service-worker-%C4%91%E1%BB%83-pre-cache\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>6. Sử dụng Service Worker để pre-cache</h1>\\n<p>Nếu chưa biết về Service Worker, đọc bài <a href=\\\"https://developers.google.com/web/fundamentals/primers/service-worker/\\\">Giới thiệu Service Worker</a>, <a href=\\\"http://goo.gl/jhXCBy\\\">Debugging Service Worker</a></p>\\n<p>Cách tính năng cung cấp bởi Service worker chỉ nên cân nhắc nó như là một phần cộng thêm, được thêm vào nếu trình duyệt có hỗ trợ.</p>\\n<blockquote>\\n<p>Service worker chỉ có khi trang chúng ta được truy cập qua HTTPS hoặc localhost</p>\\n</blockquote>\\n<h2 id=\\\"Đăng-ký-service-worker\\\"><a href=\\\"#%C4%90%C4%83ng-k%C3%BD-service-worker\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Đăng ký Service worker</h2>\\n<p>Chỉ 2 bước đơn giản</p>\\n<ul>\\n<li>Đăng ký file javascript như service worker với trình duyệt</li>\\n<li>Tạo file javascript chứa service worker</li>\\n<li>Trước tiên kiểm tra trình duyệt có hỗ trợ không</li>\\n</ul>\\n<p>File app.js</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'serviceWorker'</span> <span class=\\\"token keyword\\\">in</span> navigator<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  navigator<span class=\\\"token punctuation\\\">.</span>serviceWorker\\n            <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">register</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'./service-worker.js'</span><span class=\\\"token punctuation\\\">)</span>\\n            <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'Service Worker Registered'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<h2 id=\\\"cache-site-asset\\\"><a href=\\\"#cache-site-asset\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Cache site asset</h2>\\n<p>Khi service worker đã được đăng ký, một event install được trigger khi lần đầu user truy cập trang. Bên trong event handler, chúng ta cache toàn bộ asset cần thiết</p>\\n<p><em>Lưu ý</em> phần code ví dụ này này tuyệt đối không được sử dụng trên production, mục đích chỉ để bạn chạy thử</p>\\n<p>Tạo file <code class=\\\"language-text\\\">service-worker.js</code> bên trong thư mục gốc của ứng dụng</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> cacheName <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">'weatherPWA-step-6-1'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">var</span> filesToCache <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\nself<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addEventListener</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'install'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'[ServiceWorker] Install'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  e<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">waitUntil</span><span class=\\\"token punctuation\\\">(</span>\\n    caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">open</span><span class=\\\"token punctuation\\\">(</span>cacheName<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>cache<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'[ServiceWorker] Caching app shell'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">return</span> cache<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addAll</span><span class=\\\"token punctuation\\\">(</span>filesToCache<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>Trước tiên chúng ta bật cache với <code class=\\\"language-text\\\">cache.open()</code>. Truyền vào tên để chúng ta quản lý version của cache, đồng thời tách riêng phần dữ liệu và asset, không để update thằng này mất thằng kia</p>\\n<p>Hàm <code class=\\\"language-text\\\">cache.addAll()</code> nhận vào một tập URL, gọi fetch lên server, đưa response xuống cache. Lưu ý hàm này nếu có một chỗ nào mà <code class=\\\"language-text\\\">fetch</code> không được thì toàn bộ cache <strong>fail</strong></p>\\n<p>Giờ làm quen với debug Service Worker trên DevTools của Chrome, mở tab <strong>Application</strong>, chọn <strong>Service workers</strong></p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/ed4633f91ec1389f.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Nếu trốn trơn là không có service worker nào được đăng ký. Chép hết file từ step-06 vào <strong>work</strong>, F5 để cập nhập.</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/bf15c2f18d7f945c.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Toàn bộ service worker được đăng ký của tất cả các trang cũng sẽ liệt kê ở đây.</p>\\n<p>Cuối cùng, đưa toàn bộ file muốn cache vào biến <code class=\\\"language-text\\\">filesToCache</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> filesToCache <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span>\\n  <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/index.html'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/scripts/app.js'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/styles/inline.css'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/clear.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/cloudy-scattered-showers.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/cloudy.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/fog.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/ic_add_white_24px.svg'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/ic_refresh_white_24px.svg'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/partly-cloudy.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/rain.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/scattered-showers.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/sleet.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/snow.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/thunderstorm.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/wind.png'</span>\\n<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<h2 id=\\\"Đưa-app-shell-vào-cache\\\"><a href=\\\"#%C4%90%C6%B0a-app-shell-v%C3%A0o-cache\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Đưa app shell vào cache</h2>\\n<p>Việc chúng ta lựa chọn phần nào để cache với service worker là do chúng ta quyết định</p>\\n<p>Ví dụ ta có thể can thiệp vào quá trình <code class=\\\"language-text\\\">fetch</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">self<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addEventListener</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fetch'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>event<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// Do something interesting with the fetch here</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p><code class=\\\"language-text\\\">caches.match()</code> sẽ so sánh giá trị trong cache với request, truyền lại kết quả này cho e.respondWith()</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">self<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addEventListener</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fetch'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'[ServiceWorker] Fetch'</span><span class=\\\"token punctuation\\\">,</span> e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">.</span>url<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  e<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">respondWith</span><span class=\\\"token punctuation\\\">(</span>\\n    caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">match</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> response <span class=\\\"token operator\\\">||</span> <span class=\\\"token function\\\">fetch</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>Yup! Đến đây Web App đã chạy được offline</p>\\n<p>Mở <strong>Cache storage</strong> trên tab application để thấy các file được cache</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/ab9c361527825fac.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Quay lại chỗ <strong>Service workers</strong> để chạy thử offline</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/7656372ff6c6a0f7.png\\\" alt=\\\"Chạy thử offline\\\"></p>\\n<p>Tại sao lúc nãy mình nói không nên lấy code này chạy production, vì nó chưa xử lý hết các tình huống có thể xảy ra, App của bạn chạy sẽ không đúng. Có thể sử dụng <a href=\\\"https://developers.google.com/web/tools/workbox/\\\">Workbox</a> để thực hiện một số xử lý cần thiết.</p>\\n<h1 id=\\\"7-sử-dụng-service-worker-để-cache-dữ-liệu-forecast\\\"><a href=\\\"#7-s%E1%BB%AD-d%E1%BB%A5ng-service-worker-%C4%91%E1%BB%83-cache-d%E1%BB%AF-li%E1%BB%87u-forecast\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>7. Sử dụng service worker để cache dữ liệu forecast</h1>\\n<p>Lựa chọn một <a href=\\\"https://jakearchibald.com/2014/offline-cookbook/\\\">phương pháp cache</a> dữ liệu là yếu tố sống còn, tùy thuộc vào loại dữ liệu mà ứng dụng làm việc trên đó.</p>\\n<p>Với ví dụ này, thông tin thời tiết là quan trọng nhất, các dữ liệu như avatar, nội dung bài viết sẽ không update thường xuyên.</p>\\n<h2 id=\\\"tương-quan-giữa-network-request-và-cache\\\"><a href=\\\"#t%C6%B0%C6%A1ng-quan-gi%E1%BB%AFa-network-request-v%C3%A0-cache\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Tương quan giữa network request và cache</h2>\\n<p>Chúng ta cần chỉnh sửa service worker để request lên weather API và lưu response trong cache. Với cách tiếp cận cache-then-network, response từ network sẽ là \\\"ngọn nguồn chân lý\\\", luôn xem nó là thông tin mới nhất chúng ta sẽ sử dụng. Nếu fail cũng không sao, chúng ta sử dụng cache trong trường hợp đó</p>\\n<p>Thêm đoạn code sau vào file <code class=\\\"language-text\\\">service-worker.js</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> dataCacheName <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">'weatherData-v1'</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>Update lại activate để nó không xoá dữ liệu cache khi update lại app shell</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>key <span class=\\\"token operator\\\">!==</span> cacheName <span class=\\\"token operator\\\">&amp;&amp;</span> key <span class=\\\"token operator\\\">!==</span> dataCacheName<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>Cuối cùng, update <code class=\\\"language-text\\\">fetch</code> request để nó riêng biệt với các phần khác</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">self<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addEventListener</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fetch'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'[Service Worker] Fetch'</span><span class=\\\"token punctuation\\\">,</span> e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">.</span>url<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">var</span> dataUrl <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">'https://query.yahooapis.com/v1/public/yql'</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">.</span>url<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">indexOf</span><span class=\\\"token punctuation\\\">(</span>dataUrl<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">></span> <span class=\\\"token operator\\\">-</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">/*\\n     * When the request URL contains dataUrl, the app is asking for fresh\\n     * weather data. In this case, the service worker always goes to the\\n     * network and then caches the response. This is called the \\\"Cache then\\n     * network\\\" strategy:\\n     * https://jakearchibald.com/2014/offline-cookbook/#cache-then-network\\n     */</span>\\n    e<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">respondWith</span><span class=\\\"token punctuation\\\">(</span>\\n      caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">open</span><span class=\\\"token punctuation\\\">(</span>dataCacheName<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>cache<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span> <span class=\\\"token function\\\">fetch</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n          cache<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">put</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">.</span>url<span class=\\\"token punctuation\\\">,</span> response<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">clone</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token keyword\\\">return</span> response<span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">/*\\n     * The app is asking for app shell files. In this scenario the app uses the\\n     * \\\"Cache, falling back to the network\\\" offline strategy:\\n     * https://jakearchibald.com/2014/offline-cookbook/#cache-falling-back-to-network\\n     */</span>\\n    e<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">respondWith</span><span class=\\\"token punctuation\\\">(</span>\\n      caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">match</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span> response <span class=\\\"token operator\\\">||</span> <span class=\\\"token function\\\">fetch</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<h2 id=\\\"gửi-request\\\"><a href=\\\"#g%E1%BB%ADi-request\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Gửi request</h2>\\n<p>App cần gửi đi 2 request async, 1 để cache, 2 là request network. Object cache có thể không phải lúc nào cũng có trên mọi trình duyệt, trong trường hợp đó request network vẫn phải hoạt động</p>\\n<p>Bên trong hàm <code class=\\\"language-text\\\">app.getForecast()</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'caches'</span> <span class=\\\"token keyword\\\">in</span> window<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">/*\\n    * Check if the service worker has already cached this city's weather\\n    * data. If the service worker has the data, then display the cached\\n    * data while the app fetches the latest data.\\n    */</span>\\n  caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">match</span><span class=\\\"token punctuation\\\">(</span>url<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      response<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">json</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">updateFromCache</span><span class=\\\"token punctuation\\\">(</span>json<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">var</span> results <span class=\\\"token operator\\\">=</span> json<span class=\\\"token punctuation\\\">.</span>query<span class=\\\"token punctuation\\\">.</span>results<span class=\\\"token punctuation\\\">;</span>\\n        results<span class=\\\"token punctuation\\\">.</span>key <span class=\\\"token operator\\\">=</span> key<span class=\\\"token punctuation\\\">;</span>\\n        results<span class=\\\"token punctuation\\\">.</span>label <span class=\\\"token operator\\\">=</span> label<span class=\\\"token punctuation\\\">;</span>\\n        results<span class=\\\"token punctuation\\\">.</span>created <span class=\\\"token operator\\\">=</span> json<span class=\\\"token punctuation\\\">.</span>query<span class=\\\"token punctuation\\\">.</span>created<span class=\\\"token punctuation\\\">;</span>\\n        app<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">updateForecastCard</span><span class=\\\"token punctuation\\\">(</span>results<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>Mỗi thành phố sẽ được lưu cache ở một mục riêng biệt</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/cf095c2153306fa7.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<h1 id=\\\"8-hỗ-trợ-các-tương-tác-native\\\"><a href=\\\"#8-h%E1%BB%97-tr%E1%BB%A3-c%C3%A1c-t%C6%B0%C6%A1ng-t%C3%A1c-native\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>8. Hỗ trợ các tương tác native</h1>\\n<p>Không ai thích phải gõ một đường dẫn dài ngoằng trên bàn phím điện thoại. Với tính năng <strong>Add To Home</strong> của trình duyệt điện thoại, user có thể truy cập đến trang web như một ứng dụng được cài đặt</p>\\n<h2 id=\\\"quảng-cáo-cài-đặt-web-app-và-add-to-homescreen-trên-chrome-cho-mobile\\\"><a href=\\\"#qu%E1%BA%A3ng-c%C3%A1o-c%C3%A0i-%C4%91%E1%BA%B7t-web-app-v%C3%A0-add-to-homescreen-tr%C3%AAn-chrome-cho-mobile\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Quảng cáo cài đặt Web App và Add to Homescreen trên Chrome cho mobile</h2>\\n<p>Chrome xử lý phần lớn, chúng ta setup rất đơn giản, thêm file <code class=\\\"language-text\\\">manifest.json</code> cung cấp chi tiết thông tin về app</p>\\n<p>Tạo file manifest.json trong thư mục work</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-json\\\"><code class=\\\"language-json\\\"><span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token property\\\">\\\"name\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"Weather\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"short_name\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"Weather\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"icons\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-128x128.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"128x128\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-144x144.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"144x144\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-152x152.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"152x152\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-192x192.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"192x192\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-256x256.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"256x256\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"start_url\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"/index.html\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"display\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"standalone\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"background_color\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"#3E4EB8\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"theme_color\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"#2F3BA2\\\"</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>Cập nhập lại bên trong thẻ <code class=\\\"language-text\\\">&lt;head&gt;</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-html\\\"><code class=\\\"language-html\\\"><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>link</span> <span class=\\\"token attr-name\\\">rel</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>manifest<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>/manifest.json<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token comment\\\">&lt;!-- Add to home screen for Safari on iOS --></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>apple-mobile-web-app-capable<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>yes<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>apple-mobile-web-app-status-bar-style<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>black<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>apple-mobile-web-app-title<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>Weather PWA<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>link</span> <span class=\\\"token attr-name\\\">rel</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>apple-touch-icon<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>images/icons/icon-152x152.png<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>msapplication-TileImage<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>images/icons/icon-144x144.png<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>msapplication-TileColor<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>#2F3BA2<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span></code></pre>\\n      </div>\\n<h1 id=\\\"9-deploy-và-tổ-chức-ăn-mừng\\\"><a href=\\\"#9-deploy-v%C3%A0-t%E1%BB%95-ch%E1%BB%A9c-%C4%83n-m%E1%BB%ABng\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>9. Deploy và tổ chức ăn mừng</h1>\\n<p>Bước cuối cùng là chúng ta sẽ deploy cái app thời tiết này lên server hỗ trợ HTTPS, nếu chưa có thì dùng cái của Firebase</p>\\n<h1 id=\\\"10-Đọc-thêm\\\"><a href=\\\"#10-%C4%90%E1%BB%8Dc-th%C3%AAm\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>10. Đọc thêm</h1>\\n<ul>\\n<li>\\n<p>Hướng dẫn nhanh cách deploy lên Firebase</p>\\n</li>\\n<li>\\n<p>PageSpeed Insight Rule</p>\\n</li>\\n</ul>\\n<p><a href=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/\\\">https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/</a></p>\",\"timeToRead\":14,\"excerpt\":\"1. Giới thiệu 2. Bắt đầu 3.Phương pháp App Shell 4. Implement App Shell 5. Lần load đầu tiên 6. Sử dụng Service Worker để pre-cache Đăng ký…\",\"frontmatter\":{\"title\":\"Dựng Progressive Web App đầu tiên của bạn\",\"cover\":\"\",\"date\":\"2018-10-16\",\"category\":null,\"tags\":[\"pwa\"],\"desc\":\"Cùng mình đú trend, dựng một Progressive Web App theo chỉ dẫn của Google\"},\"fields\":{\"slug\":\"/2018-10-16-huong-dan-progressive-web-app-cho-nguoi-moi-bat-dau\"}}},\"pathContext\":{\"slug\":\"/2018-10-16-huong-dan-progressive-web-app-cho-nguoi-moi-bat-dau\",\"prev\":{\"frontmatter\":{\"title\":\"Hướng dẫn sử dụng công cụ để check contrast trong Chrome\",\"desc\":\"Tip siêu ngắn để kiểm tra contrast có hợp nhãn với Chrome không\",\"type\":\"post\",\"category\":null,\"tags\":[\"chrome\",\"ux-ui\"],\"date\":\"2018-10-18\",\"cover\":\"\"},\"fields\":{\"slug\":\"/2018-10-18-huong-dan-dung-chrome-dev-tool-de-kiem-tra-contrast\"}},\"next\":{\"frontmatter\":{\"title\":\"Em có muốn hỏi câu gì không?\",\"desc\":\"Một câu bạn sẽ được hỏi trong lúc phỏng vấn, một cơ hội để bạn tìm hiểu về công ty, vậy nên hỏi những câu nào?\",\"type\":\"post\",\"category\":null,\"tags\":[\"javascript\",\"react\"],\"date\":\"2018-10-15\",\"cover\":\"\"},\"fields\":{\"slug\":\"/2018-10-15-nhung-cau-nen-hoi-khi-di-phong-van\"}}}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---2018-10-16-huong-dan-progressive-web-app-cho-nguoi-moi-bat-dau-235613e15e284136330a.js","module.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<!-- TOC -->\\n<ul>\\n<li><a href=\\\"#1-gi%E1%BB%9Bi-thi%E1%BB%87u\\\">1. Giới thiệu</a></li>\\n<li><a href=\\\"#2-b%E1%BA%AFt-%C4%91%E1%BA%A7u\\\">2. Bắt đầu</a></li>\\n<li><a href=\\\"#3ph%C6%B0%C6%A1ng-ph%C3%A1p-app-shell\\\">3.Phương pháp App Shell</a></li>\\n<li><a href=\\\"#4-implement-app-shell\\\">4. Implement App Shell</a></li>\\n<li><a href=\\\"#5-l%E1%BA%A7n-load-%C4%91%E1%BA%A7u-ti%C3%AAn\\\">5. Lần load đầu tiên</a></li>\\n<li>\\n<p><a href=\\\"#6-s%E1%BB%AD-d%E1%BB%A5ng-service-worker-%C4%91%E1%BB%83-pre-cache\\\">6. Sử dụng Service Worker để pre-cache</a></p>\\n<ul>\\n<li><a href=\\\"#%C4%91%C4%83ng-k%C3%BD-service-worker\\\">Đăng ký Service worker</a></li>\\n<li><a href=\\\"#cache-site-asset\\\">Cache site asset</a></li>\\n<li><a href=\\\"#%C4%91%C6%B0a-app-shell-v%C3%A0o-cache\\\">Đưa app shell vào cache</a></li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\\"#7-s%E1%BB%AD-d%E1%BB%A5ng-service-worker-%C4%91%E1%BB%83-cache-d%E1%BB%AF-li%E1%BB%87u-forecast\\\">7. Sử dụng service worker để cache dữ liệu forecast</a></p>\\n<ul>\\n<li><a href=\\\"#t%C6%B0%C6%A1ng-quan-gi%E1%BB%AFa-network-request-v%C3%A0-cache\\\">Tương quan giữa network request và cache</a></li>\\n<li><a href=\\\"#g%E1%BB%ADi-request\\\">Gửi request</a></li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\\"#8-h%E1%BB%97-tr%E1%BB%A3-c%C3%A1c-t%C6%B0%C6%A1ng-t%C3%A1c-native\\\">8. Hỗ trợ các tương tác native</a></p>\\n<ul>\\n<li><a href=\\\"#qu%E1%BA%A3ng-c%C3%A1o-c%C3%A0i-%C4%91%E1%BA%B7t-web-app-v%C3%A0-add-to-homescreen-tr%C3%AAn-chrome-cho-mobile\\\">Quảng cáo cài đặt Web App và Add to Homescreen trên Chrome cho mobile</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"#9-deploy-v%C3%A0-t%E1%BB%95-ch%E1%BB%A9c-%C4%83n-m%E1%BB%ABng\\\">9. Deploy và tổ chức ăn mừng</a></li>\\n<li><a href=\\\"#10-%C4%91%E1%BB%8Dc-th%C3%AAm\\\">10. Đọc thêm</a></li>\\n</ul>\\n<!-- /TOC -->\\n<h1 id=\\\"1-giới-thiệu\\\"><a href=\\\"#1-gi%E1%BB%9Bi-thi%E1%BB%87u\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>1. Giới thiệu</h1>\\n<p>Trong lúc dựng một Progressive Web App, chúng ta cần nhớ những điều sau</p>\\n<ul>\\n<li>Không quan trọng user đang dùng trình duyệt gì</li>\\n<li>Hỗ trợ tốt trên nhiều loại thiết bị desktop, mobile, tablet</li>\\n<li>Sử dụng service worker để có thể làm việc offline hoặc khi mạng chậm</li>\\n<li>Như một ứng dụng thực thụ, cung cấp không chỉ nội dung mà cả tính năng</li>\\n<li>Luôn cập nhập mới nhất</li>\\n<li>Host thông qua HTTPS để đảm bảo an toàn</li>\\n<li>Cho phép các công cụ tìm kiếm chạy index</li>\\n<li>Cho phép user cài đặt như một ứng dụng hiển thị trang chủ, menu chính</li>\\n<li>Dễ dàng chia sẻ bằng URL</li>\\n</ul>\\n<p>Chúng ta sẽ đi qua từng bước một để làm một progressive web app, bao gồm cân nhắc thiết kế, implement chi tiết, đảm bảo ứng dụng chúng ta đáp ứng các nguyên tắc trên</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/166c3b4982e4a0ad.png\\\" alt=\\\"Ứng dụng thông báo thời tiết.\\\"></p>\\n<p>Chúng ta sẽ tìm hiểu các vấn đề</p>\\n<ul>\\n<li>Cách thiết kế sử dụng phương pháp \\\"app shell\\\"</li>\\n<li>Làm thế nào để chạy offline</li>\\n<li>Lưu dữ liệu để sử dụng offline</li>\\n</ul>\\n<p>Bạn cần gì để follow tuts này</p>\\n<ul>\\n<li>Phiên bản mới nhất của Chrome</li>\\n<li><a href=\\\"https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb\\\">Web Server</a> cho Chrome</li>\\n<li>Download <a href=\\\"https://github.com/googlecodelabs/your-first-pwapp/archive/master.zip\\\">Source code ví dụ</a></li>\\n<li>Công cụ soạn thảo</li>\\n<li>Kiến thức căn bản HTML/CSS/Javascript và Chrome DevTools</li>\\n</ul>\\n<h1 id=\\\"2-bắt-đầu\\\"><a href=\\\"#2-b%E1%BA%AFt-%C4%91%E1%BA%A7u\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>2. Bắt đầu</h1>\\n<p>Download <a href=\\\"https://github.com/googlecodelabs/your-first-pwapp/archive/master.zip\\\">Source Code</a>, sau khi giải nén, bạn sẽ thấy các thư mục step-NN chứa source code tương ứng với từng bước của tuts, để bạn tham khảo, nên tự viết cho nhớ nhé. Chúng ta làm việc chủ yếu trong thư mục work</p>\\n<p>Cài Web Server For Chrome từ Chrome Web Store</p>\\n<p>Click vào nút <code class=\\\"language-text\\\">Apps</code> trên thanh bookmarks</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/9efdf0d1258b78e4.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Trên cửa sổ mới click icon Web Server</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/dc07bbc9fcfe7c5b.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Hộp thoại config sau sẽ xuất hiện</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/433870360ad308d4.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Click <strong>Choose folder</strong>, trỏ đến thư mục work</p>\\n<p>Bên dưới mục Options, check vào nút \\\"Automatically show index.html\\\"</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/39b4e0371e9703e6.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Sau đó click <strong>Stop</strong> rồi <strong>restart</strong> server</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/daefd30e8a290df5.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Click vào Web Server URL để truy cập site</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/aa64e93e8151b642.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Nếu bạn thấy icon spinner thì bạn đã thành công</p>\\n<h1 id=\\\"3phương-pháp-app-shell\\\"><a href=\\\"#3ph%C6%B0%C6%A1ng-ph%C3%A1p-app-shell\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>3.Phương pháp App Shell</h1>\\n<p>App Shell bao gồm HTML/CSS/Javascript <strong>cần thiết nhất</strong> để đảm bảo ứng dụng hoạt động. First load phải nhanh và được cache ngay lập tức. Những lần truy cập sau, những shell file này sẽ được load từ máy của user</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/156b5e3cc8373d55.png\\\" alt=\\\"Phương pháp App Shell\\\"></p>\\n<p>Phương pháp App Shell tách phần core của ứng dụng, UI và data. Những phần UI và infrastructure được cache ở local sử dụng service worker, như vậy lần sau nó chỉ cần gọi lên để lấy dữ liệu.</p>\\n<p>Service worker là script của trình duyệt chạy nền, tách biệt với phần trang web, cho phép không cần web page hoặc giao diện tương tác người dùng.</p>\\n<p>Nói cách khác, app shell tương tự như phần code bundle của react.</p>\\n<p><strong>Tại sao sử dụng phương pháp App Shell</strong></p>\\n<p>Dễ thấy là nó có làm chúng ta feel like native app, load cực nhanh</p>\\n<p><strong>Thiết kế</strong></p>\\n<p>Chia ra thành các core component</p>\\n<ul>\\n<li>Phần nào cần hiển thị trên màn hình ngay lập tức</li>\\n<li>Các UI nào là key của ứng dụng</li>\\n<li>Những file nào khác cần thiết: hình, style</li>\\n</ul>\\n<p>Với ứng dụng Thông báo thời tiết</p>\\n<ul>\\n<li>Header: title, add/refresh button</li>\\n<li>Forecast card</li>\\n<li>Dialog để thêm thành phố</li>\\n<li>Loading indicator</li>\\n</ul>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/166c3b4982e4a0ad.png\\\" alt=\\\"Tại sao sử dụng phương pháp App Shell\\\"></p>\\n<p>Với ứng dụng phức tạp hơn, chúng ta không nên load toàn bộ UI một lúc, lazy load khi cần đến</p>\\n<h1 id=\\\"4-implement-app-shell\\\"><a href=\\\"#4-implement-app-shell\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>4. Implement App Shell</h1>\\n<p>Ở đây chúng ta tập trung làm PWA, nên có thể dùng luôn phần code ví dụ</p>\\n<p>Copy toàn bộ file trong thư mục <strong>step-04</strong> vào work, tìm file <code class=\\\"language-text\\\">index.html</code>, bỏ comment chỗ đoạn script</p>\\n<p>F5 lại trang để thấy kết quả</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/166c3b4982e4a0ad.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Đây chỉ là dữ liệu giả, để test.</p>\\n<h1 id=\\\"5-lần-load-đầu-tiên\\\"><a href=\\\"#5-l%E1%BA%A7n-load-%C4%91%E1%BA%A7u-ti%C3%AAn\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>5. Lần load đầu tiên</h1>\\n<p>PWA khi khởi chạy là phải thật nhanh, chúng cache các shell file để đạt được tốc độ đó.</p>\\n<p>Ở lần chạy đầu tiên nay chúng ta cũng gọi lên API để lấy dữ liệu, được viết trong hàm <code class=\\\"language-text\\\">initialWeatherForecast</code>, nếu thích bạn có thể đọc.</p>\\n<p>Với các lần load sau, chúng ta sẽ lưu lại danh sách thành phố user đã thêm, sử dụng <code class=\\\"language-text\\\">IndexedDB</code>, để đơn giản hơn với ví dụ này, chúng ta dùng <code class=\\\"language-text\\\">localStorage</code>, khi làm một app thực thụ nên tránh sử dụng vì đôi khi rất chậm trên một số thiết bị.</p>\\n<p>Toàn bộ source code trong <strong>step-05</strong></p>\\n<h1 id=\\\"6-sử-dụng-service-worker-để-pre-cache\\\"><a href=\\\"#6-s%E1%BB%AD-d%E1%BB%A5ng-service-worker-%C4%91%E1%BB%83-pre-cache\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>6. Sử dụng Service Worker để pre-cache</h1>\\n<p>Nếu chưa biết về Service Worker, đọc bài <a href=\\\"https://developers.google.com/web/fundamentals/primers/service-worker/\\\">Giới thiệu Service Worker</a>, <a href=\\\"http://goo.gl/jhXCBy\\\">Debugging Service Worker</a></p>\\n<p>Cách tính năng cung cấp bởi Service worker chỉ nên cân nhắc nó như là một phần cộng thêm, được thêm vào nếu trình duyệt có hỗ trợ.</p>\\n<blockquote>\\n<p>Service worker chỉ có khi trang chúng ta được truy cập qua HTTPS hoặc localhost</p>\\n</blockquote>\\n<h2 id=\\\"Đăng-ký-service-worker\\\"><a href=\\\"#%C4%90%C4%83ng-k%C3%BD-service-worker\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Đăng ký Service worker</h2>\\n<p>Chỉ 2 bước đơn giản</p>\\n<ul>\\n<li>Đăng ký file javascript như service worker với trình duyệt</li>\\n<li>Tạo file javascript chứa service worker</li>\\n<li>Trước tiên kiểm tra trình duyệt có hỗ trợ không</li>\\n</ul>\\n<p>File app.js</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'serviceWorker'</span> <span class=\\\"token keyword\\\">in</span> navigator<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  navigator<span class=\\\"token punctuation\\\">.</span>serviceWorker\\n            <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">register</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'./service-worker.js'</span><span class=\\\"token punctuation\\\">)</span>\\n            <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'Service Worker Registered'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<h2 id=\\\"cache-site-asset\\\"><a href=\\\"#cache-site-asset\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Cache site asset</h2>\\n<p>Khi service worker đã được đăng ký, một event install được trigger khi lần đầu user truy cập trang. Bên trong event handler, chúng ta cache toàn bộ asset cần thiết</p>\\n<p><em>Lưu ý</em> phần code ví dụ này này tuyệt đối không được sử dụng trên production, mục đích chỉ để bạn chạy thử</p>\\n<p>Tạo file <code class=\\\"language-text\\\">service-worker.js</code> bên trong thư mục gốc của ứng dụng</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> cacheName <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">'weatherPWA-step-6-1'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">var</span> filesToCache <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\nself<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addEventListener</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'install'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'[ServiceWorker] Install'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  e<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">waitUntil</span><span class=\\\"token punctuation\\\">(</span>\\n    caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">open</span><span class=\\\"token punctuation\\\">(</span>cacheName<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>cache<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'[ServiceWorker] Caching app shell'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">return</span> cache<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addAll</span><span class=\\\"token punctuation\\\">(</span>filesToCache<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>Trước tiên chúng ta bật cache với <code class=\\\"language-text\\\">cache.open()</code>. Truyền vào tên để chúng ta quản lý version của cache, đồng thời tách riêng phần dữ liệu và asset, không để update thằng này mất thằng kia</p>\\n<p>Hàm <code class=\\\"language-text\\\">cache.addAll()</code> nhận vào một tập URL, gọi fetch lên server, đưa response xuống cache. Lưu ý hàm này nếu có một chỗ nào mà <code class=\\\"language-text\\\">fetch</code> không được thì toàn bộ cache <strong>fail</strong></p>\\n<p>Giờ làm quen với debug Service Worker trên DevTools của Chrome, mở tab <strong>Application</strong>, chọn <strong>Service workers</strong></p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/ed4633f91ec1389f.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Nếu trốn trơn là không có service worker nào được đăng ký. Chép hết file từ step-06 vào <strong>work</strong>, F5 để cập nhập.</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/bf15c2f18d7f945c.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Toàn bộ service worker được đăng ký của tất cả các trang cũng sẽ liệt kê ở đây.</p>\\n<p>Cuối cùng, đưa toàn bộ file muốn cache vào biến <code class=\\\"language-text\\\">filesToCache</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> filesToCache <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span>\\n  <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/index.html'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/scripts/app.js'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/styles/inline.css'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/clear.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/cloudy-scattered-showers.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/cloudy.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/fog.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/ic_add_white_24px.svg'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/ic_refresh_white_24px.svg'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/partly-cloudy.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/rain.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/scattered-showers.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/sleet.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/snow.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/thunderstorm.png'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">'/images/wind.png'</span>\\n<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<h2 id=\\\"Đưa-app-shell-vào-cache\\\"><a href=\\\"#%C4%90%C6%B0a-app-shell-v%C3%A0o-cache\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Đưa app shell vào cache</h2>\\n<p>Việc chúng ta lựa chọn phần nào để cache với service worker là do chúng ta quyết định</p>\\n<p>Ví dụ ta có thể can thiệp vào quá trình <code class=\\\"language-text\\\">fetch</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">self<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addEventListener</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fetch'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>event<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// Do something interesting with the fetch here</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p><code class=\\\"language-text\\\">caches.match()</code> sẽ so sánh giá trị trong cache với request, truyền lại kết quả này cho e.respondWith()</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">self<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addEventListener</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fetch'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'[ServiceWorker] Fetch'</span><span class=\\\"token punctuation\\\">,</span> e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">.</span>url<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  e<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">respondWith</span><span class=\\\"token punctuation\\\">(</span>\\n    caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">match</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> response <span class=\\\"token operator\\\">||</span> <span class=\\\"token function\\\">fetch</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>Yup! Đến đây Web App đã chạy được offline</p>\\n<p>Mở <strong>Cache storage</strong> trên tab application để thấy các file được cache</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/ab9c361527825fac.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<p>Quay lại chỗ <strong>Service workers</strong> để chạy thử offline</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/7656372ff6c6a0f7.png\\\" alt=\\\"Chạy thử offline\\\"></p>\\n<p>Tại sao lúc nãy mình nói không nên lấy code này chạy production, vì nó chưa xử lý hết các tình huống có thể xảy ra, App của bạn chạy sẽ không đúng. Có thể sử dụng <a href=\\\"https://developers.google.com/web/tools/workbox/\\\">Workbox</a> để thực hiện một số xử lý cần thiết.</p>\\n<h1 id=\\\"7-sử-dụng-service-worker-để-cache-dữ-liệu-forecast\\\"><a href=\\\"#7-s%E1%BB%AD-d%E1%BB%A5ng-service-worker-%C4%91%E1%BB%83-cache-d%E1%BB%AF-li%E1%BB%87u-forecast\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>7. Sử dụng service worker để cache dữ liệu forecast</h1>\\n<p>Lựa chọn một <a href=\\\"https://jakearchibald.com/2014/offline-cookbook/\\\">phương pháp cache</a> dữ liệu là yếu tố sống còn, tùy thuộc vào loại dữ liệu mà ứng dụng làm việc trên đó.</p>\\n<p>Với ví dụ này, thông tin thời tiết là quan trọng nhất, các dữ liệu như avatar, nội dung bài viết sẽ không update thường xuyên.</p>\\n<h2 id=\\\"tương-quan-giữa-network-request-và-cache\\\"><a href=\\\"#t%C6%B0%C6%A1ng-quan-gi%E1%BB%AFa-network-request-v%C3%A0-cache\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Tương quan giữa network request và cache</h2>\\n<p>Chúng ta cần chỉnh sửa service worker để request lên weather API và lưu response trong cache. Với cách tiếp cận cache-then-network, response từ network sẽ là \\\"ngọn nguồn chân lý\\\", luôn xem nó là thông tin mới nhất chúng ta sẽ sử dụng. Nếu fail cũng không sao, chúng ta sử dụng cache trong trường hợp đó</p>\\n<p>Thêm đoạn code sau vào file <code class=\\\"language-text\\\">service-worker.js</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> dataCacheName <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">'weatherData-v1'</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>Update lại activate để nó không xoá dữ liệu cache khi update lại app shell</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>key <span class=\\\"token operator\\\">!==</span> cacheName <span class=\\\"token operator\\\">&amp;&amp;</span> key <span class=\\\"token operator\\\">!==</span> dataCacheName<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>Cuối cùng, update <code class=\\\"language-text\\\">fetch</code> request để nó riêng biệt với các phần khác</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">self<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addEventListener</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fetch'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'[Service Worker] Fetch'</span><span class=\\\"token punctuation\\\">,</span> e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">.</span>url<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">var</span> dataUrl <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">'https://query.yahooapis.com/v1/public/yql'</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">.</span>url<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">indexOf</span><span class=\\\"token punctuation\\\">(</span>dataUrl<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">></span> <span class=\\\"token operator\\\">-</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">/*\\n     * When the request URL contains dataUrl, the app is asking for fresh\\n     * weather data. In this case, the service worker always goes to the\\n     * network and then caches the response. This is called the \\\"Cache then\\n     * network\\\" strategy:\\n     * https://jakearchibald.com/2014/offline-cookbook/#cache-then-network\\n     */</span>\\n    e<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">respondWith</span><span class=\\\"token punctuation\\\">(</span>\\n      caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">open</span><span class=\\\"token punctuation\\\">(</span>dataCacheName<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>cache<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span> <span class=\\\"token function\\\">fetch</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n          cache<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">put</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">.</span>url<span class=\\\"token punctuation\\\">,</span> response<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">clone</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token keyword\\\">return</span> response<span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">/*\\n     * The app is asking for app shell files. In this scenario the app uses the\\n     * \\\"Cache, falling back to the network\\\" offline strategy:\\n     * https://jakearchibald.com/2014/offline-cookbook/#cache-falling-back-to-network\\n     */</span>\\n    e<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">respondWith</span><span class=\\\"token punctuation\\\">(</span>\\n      caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">match</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">return</span> response <span class=\\\"token operator\\\">||</span> <span class=\\\"token function\\\">fetch</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">.</span>request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<h2 id=\\\"gửi-request\\\"><a href=\\\"#g%E1%BB%ADi-request\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Gửi request</h2>\\n<p>App cần gửi đi 2 request async, 1 để cache, 2 là request network. Object cache có thể không phải lúc nào cũng có trên mọi trình duyệt, trong trường hợp đó request network vẫn phải hoạt động</p>\\n<p>Bên trong hàm <code class=\\\"language-text\\\">app.getForecast()</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'caches'</span> <span class=\\\"token keyword\\\">in</span> window<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">/*\\n    * Check if the service worker has already cached this city's weather\\n    * data. If the service worker has the data, then display the cached\\n    * data while the app fetches the latest data.\\n    */</span>\\n  caches<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">match</span><span class=\\\"token punctuation\\\">(</span>url<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>response<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      response<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">json</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">updateFromCache</span><span class=\\\"token punctuation\\\">(</span>json<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">var</span> results <span class=\\\"token operator\\\">=</span> json<span class=\\\"token punctuation\\\">.</span>query<span class=\\\"token punctuation\\\">.</span>results<span class=\\\"token punctuation\\\">;</span>\\n        results<span class=\\\"token punctuation\\\">.</span>key <span class=\\\"token operator\\\">=</span> key<span class=\\\"token punctuation\\\">;</span>\\n        results<span class=\\\"token punctuation\\\">.</span>label <span class=\\\"token operator\\\">=</span> label<span class=\\\"token punctuation\\\">;</span>\\n        results<span class=\\\"token punctuation\\\">.</span>created <span class=\\\"token operator\\\">=</span> json<span class=\\\"token punctuation\\\">.</span>query<span class=\\\"token punctuation\\\">.</span>created<span class=\\\"token punctuation\\\">;</span>\\n        app<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">updateForecastCard</span><span class=\\\"token punctuation\\\">(</span>results<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>Mỗi thành phố sẽ được lưu cache ở một mục riêng biệt</p>\\n<p><img src=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/img/cf095c2153306fa7.png\\\" alt=\\\"Dựng Progressive Web App đầu tiên của bạn\\\"></p>\\n<h1 id=\\\"8-hỗ-trợ-các-tương-tác-native\\\"><a href=\\\"#8-h%E1%BB%97-tr%E1%BB%A3-c%C3%A1c-t%C6%B0%C6%A1ng-t%C3%A1c-native\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>8. Hỗ trợ các tương tác native</h1>\\n<p>Không ai thích phải gõ một đường dẫn dài ngoằng trên bàn phím điện thoại. Với tính năng <strong>Add To Home</strong> của trình duyệt điện thoại, user có thể truy cập đến trang web như một ứng dụng được cài đặt</p>\\n<h2 id=\\\"quảng-cáo-cài-đặt-web-app-và-add-to-homescreen-trên-chrome-cho-mobile\\\"><a href=\\\"#qu%E1%BA%A3ng-c%C3%A1o-c%C3%A0i-%C4%91%E1%BA%B7t-web-app-v%C3%A0-add-to-homescreen-tr%C3%AAn-chrome-cho-mobile\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Quảng cáo cài đặt Web App và Add to Homescreen trên Chrome cho mobile</h2>\\n<p>Chrome xử lý phần lớn, chúng ta setup rất đơn giản, thêm file <code class=\\\"language-text\\\">manifest.json</code> cung cấp chi tiết thông tin về app</p>\\n<p>Tạo file manifest.json trong thư mục work</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-json\\\"><code class=\\\"language-json\\\"><span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token property\\\">\\\"name\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"Weather\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"short_name\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"Weather\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"icons\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-128x128.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"128x128\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-144x144.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"144x144\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-152x152.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"152x152\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-192x192.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"192x192\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token property\\\">\\\"src\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"images/icons/icon-256x256.png\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"sizes\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"256x256\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token property\\\">\\\"type\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"image/png\\\"</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"start_url\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"/index.html\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"display\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"standalone\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"background_color\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"#3E4EB8\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"theme_color\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"#2F3BA2\\\"</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>Cập nhập lại bên trong thẻ <code class=\\\"language-text\\\">&lt;head&gt;</code></p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-html\\\"><code class=\\\"language-html\\\"><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>link</span> <span class=\\\"token attr-name\\\">rel</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>manifest<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>/manifest.json<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token comment\\\">&lt;!-- Add to home screen for Safari on iOS --></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>apple-mobile-web-app-capable<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>yes<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>apple-mobile-web-app-status-bar-style<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>black<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>apple-mobile-web-app-title<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>Weather PWA<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>link</span> <span class=\\\"token attr-name\\\">rel</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>apple-touch-icon<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">href</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>images/icons/icon-152x152.png<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>msapplication-TileImage<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>images/icons/icon-144x144.png<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>msapplication-TileColor<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>#2F3BA2<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span></code></pre>\\n      </div>\\n<h1 id=\\\"9-deploy-và-tổ-chức-ăn-mừng\\\"><a href=\\\"#9-deploy-v%C3%A0-t%E1%BB%95-ch%E1%BB%A9c-%C4%83n-m%E1%BB%ABng\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>9. Deploy và tổ chức ăn mừng</h1>\\n<p>Bước cuối cùng là chúng ta sẽ deploy cái app thời tiết này lên server hỗ trợ HTTPS, nếu chưa có thì dùng cái của Firebase</p>\\n<h1 id=\\\"10-Đọc-thêm\\\"><a href=\\\"#10-%C4%90%E1%BB%8Dc-th%C3%AAm\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>10. Đọc thêm</h1>\\n<ul>\\n<li>\\n<p>Hướng dẫn nhanh cách deploy lên Firebase</p>\\n</li>\\n<li>\\n<p>PageSpeed Insight Rule</p>\\n</li>\\n</ul>\\n<p><a href=\\\"https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/\\\">https://developers.google.com/web/fundamentals/codelabs/your-first-pwapp/</a></p>\",\"timeToRead\":14,\"excerpt\":\"1. Giới thiệu 2. Bắt đầu 3.Phương pháp App Shell 4. Implement App Shell 5. Lần load đầu tiên 6. Sử dụng Service Worker để pre-cache Đăng ký…\",\"frontmatter\":{\"title\":\"Dựng Progressive Web App đầu tiên của bạn\",\"cover\":\"\",\"date\":\"2018-10-16\",\"category\":null,\"tags\":[\"pwa\"],\"desc\":\"Cùng mình đú trend, dựng một Progressive Web App theo chỉ dẫn của Google\"},\"fields\":{\"slug\":\"/2018-10-16-huong-dan-progressive-web-app-cho-nguoi-moi-bat-dau\"}}},\"pathContext\":{\"slug\":\"/2018-10-16-huong-dan-progressive-web-app-cho-nguoi-moi-bat-dau\",\"prev\":{\"frontmatter\":{\"title\":\"Hướng dẫn sử dụng công cụ để check contrast trong Chrome\",\"desc\":\"Tip siêu ngắn để kiểm tra contrast có hợp nhãn với Chrome không\",\"type\":\"post\",\"category\":null,\"tags\":[\"chrome\",\"ux-ui\"],\"date\":\"2018-10-18\",\"cover\":\"\"},\"fields\":{\"slug\":\"/2018-10-18-huong-dan-dung-chrome-dev-tool-de-kiem-tra-contrast\"}},\"next\":{\"frontmatter\":{\"title\":\"Em có muốn hỏi câu gì không?\",\"desc\":\"Một câu bạn sẽ được hỏi trong lúc phỏng vấn, một cơ hội để bạn tìm hiểu về công ty, vậy nên hỏi những câu nào?\",\"type\":\"post\",\"category\":null,\"tags\":[\"javascript\",\"react\"],\"date\":\"2018-10-15\",\"cover\":\"\"},\"fields\":{\"slug\":\"/2018-10-15-nhung-cau-nen-hoi-khi-di-phong-van\"}}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/2018-10-16-huong-dan-progressive-web-app-cho-nguoi-moi-bat-dau.json\n// module id = 1340\n// module chunks = 10890133112871"],"sourceRoot":""}