webpackJsonp([37],{"./node_modules/json-loader/index.js!./.cache/json/2018-06-08-kinh-nghiem-lam-viec-voi-du-an-lon.json":function(n,s){n.exports={data:{markdownRemark:{html:'<p>Cách tổ chức project thì không phải là rule, mỗi người mỗi kiểu, chỉ là một vài cân nhắc để quản lý code tốt hơn.</p>\n<h2>Thư mục</h2>\n<p>Đây là thư mục project hiện tại của tác giả bài viết này</p>\n<p><img src="https://cdn-images-1.medium.com/max/600/1*vStBUv5egjAAb1XNWeVSRA.png"></p>\n<p>Giải thích của tác giả về cách tổ chức này</p>\n<h3>/api</h3>\n<p>Nơi chứa những functions đảm nhiệm chuyện gọi API</p>\n<h3>/assets</h3>\n<p>Nơi chứa external resource</p>\n<h3>components</h3>\n<p>Tất cả component được sử dụng từ 2 lần trở lên sẽ nằm ở đây. Mỗi component là một thư mục bao gồm <code class="language-text">index.js</code> để export, <code class="language-text">styles.module.scss</code> stylesheet kèm theo của component, ở đây quan điểm của mình là nên có một file là <code class="language-text">ExampleComponent.js</code>, lý do để lúc code mình có thể trỏ ngay đến tên file theo cách đặt tên component = tên file như vậy, nếu component nào cũng <code class="language-text">index.js</code> thì mở chừng chục file <code class="language-text">index.js</code> như vậy trên VSCode sẽ chẳng thể biết đang sửa thằng nào.</p>\n<h3>/lang</h3>\n<p>Thư mục này chỉ có khi ứng dụng của mình hỗ trợ đa ngôn ngữ. Tác giả đang sử dụng i18n-js cho đa ngôn ngữ, vì nó dễ xài</p>\n<p>File <code class="language-text">index.js</code> của lang</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> i18n <span class="token keyword">from</span> <span class="token string">\'i18n-js\'</span>\n\n<span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">\'./locales/en\'</span>\n<span class="token keyword">import</span> es <span class="token keyword">from</span> <span class="token string">\'./locales/es\'</span>\n<span class="token keyword">import</span> pt <span class="token keyword">from</span> <span class="token string">\'./locales/pt\'</span>\n\ni18n<span class="token punctuation">.</span>translations <span class="token operator">=</span> <span class="token punctuation">{</span>\n  en<span class="token punctuation">,</span>\n  es<span class="token punctuation">,</span>\n  pt<span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n\ni18n<span class="token punctuation">.</span>fallbacks <span class="token operator">=</span> <span class="token boolean">true</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> i18n<span class="token punctuation">.</span>t\n\n<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">\'./locales/keys\'</span></code></pre>\n      </div>\n<p><img src="https://cdn-images-1.medium.com/max/600/1*vStBUv5egjAAb1XNWeVSRA.png" alt="Giống hình trên thôi, đỡ phải scroll lên"></p>\n<h3>/lib</h3>\n<p>Chứa những file helper, utils, validation,...</p>\n<h3>/store</h3>\n<p>Dành cho người xài Redux, chưa sử dụng MobX nhiều, có thể sẽ khác. Bên trong này sẽ có những thư mục con</p>\n<ul>\n<li><strong>/actions</strong> chứa action creators</li>\n<li><strong>/definitions</strong> hay <strong>/actionTypes</strong></li>\n<li><strong>/reducers</strong> trong đây mỗi reducer sẽ là 1 file riêng biệt, file index.js sẽ combine tất cả export lại. Hoặc <strong>/sagas</strong> nếu dùng redux saga</li>\n</ul>\n<p>File <code class="language-text">index.js</code> của thư mục store</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> applyMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'redux\'</span>\n\n<span class="token keyword">import</span> createSagaMiddleware <span class="token keyword">from</span> <span class="token string">\'redux-saga\'</span>\n<span class="token keyword">import</span> loggerMiddleware <span class="token keyword">from</span> <span class="token string">\'redux-logger\'</span>\n\n<span class="token keyword">import</span> combinedReducer <span class="token keyword">from</span> <span class="token string">\'src/store/reducers\'</span>\n<span class="token keyword">import</span> rootSaga <span class="token keyword">from</span> <span class="token string">\'src/store/sagas\'</span>\n\n<span class="token keyword">const</span> sagaMiddleware <span class="token operator">=</span> <span class="token function">createSagaMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\nsagaMiddleware<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>rootSaga<span class="token punctuation">)</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span>\n  combinedReducer<span class="token punctuation">,</span>\n  <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>\n    sagaMiddleware<span class="token punctuation">,</span>\n    loggerMiddleware<span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span></code></pre>\n      </div>\n<h3>/styles</h3>\n<p>Chứa common style</p>\n<h3>/view</h3>\n<p>Trong component thì ta để mấy component để hiển thị, pure component, thư mục view này thì chứa container component.</p>\n<p>File <code class="language-text">index.js</code> của thư mục này chúng ta sẽ export toàn bộ mấy cái view để ta đưa nó vô <code class="language-text">router</code></p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>\n  BrowserRouter<span class="token punctuation">,</span>\n  Route<span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react-router-dom\'</span>\n\n<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">\'./Home\'</span>\n<span class="token keyword">import</span> Settings <span class="token keyword">from</span> <span class="token string">\'./Settings\'</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>React.Fragment</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/settings<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Settings<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>React.Fragment</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span></code></pre>\n      </div>\n<h2>Cuộc chiến với CSS</h2>\n<p>Có tới cả trăm bài viết và tranh luận xung quanh sử dụng CSS trong React. Tác giả bài viết này thích CSS module, chưa thấy được lý do tại sao dùng Styled Components.</p>\n<p>Lý do thích CSS module? Tuy không phải lúc nào cũng giải quyết được mọi vấn đề với CSS module, nên việc sử dụng kết hợp giữa CSS module và global import style là sự lựa chọn của tác giả</p>\n<p>Đây là cách config SASS trong webpack</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token punctuation">{</span>\n  test<span class="token punctuation">:</span> <span class="token regex">/(?&lt;!\\.module)\\.scss$/</span><span class="token punctuation">,</span>\n  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'style-loader\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      loader<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'css-loader\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      options<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n        importLoaders<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      loader<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'postcss-loader\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      options<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n        <span class="token comment">// Necessary for external CSS imports to work</span>\n        <span class="token comment">// https://github.com/facebookincubator/create-react-app/issues/2677</span>\n        ident<span class="token punctuation">:</span> <span class="token string">\'postcss\'</span><span class="token punctuation">,</span>\n        plugins<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">[</span>\n          <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'postcss-flexbugs-fixes\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            browsers<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n              <span class="token string">\'>1%\'</span><span class="token punctuation">,</span>\n              <span class="token string">\'last 4 versions\'</span><span class="token punctuation">,</span>\n              <span class="token string">\'Firefox ESR\'</span><span class="token punctuation">,</span>\n              <span class="token string">\'not ie &lt; 9\'</span><span class="token punctuation">,</span> <span class="token comment">// React doesn\'t support IE8 anyway</span>\n            <span class="token punctuation">]</span><span class="token punctuation">,</span>\n            flexbox<span class="token punctuation">:</span> <span class="token string">\'no-2009\'</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      loader<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'sass-loader\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">{</span>\n  test<span class="token punctuation">:</span> <span class="token regex">/\\.module\\.scss$/</span><span class="token punctuation">,</span>\n  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'style-loader\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      loader<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'css-loader\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      options<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n        importLoaders<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n        modules<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        localIdentName<span class="token punctuation">:</span> <span class="token string">\'[local]__[hash:base64:5]\'</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      loader<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'postcss-loader\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      options<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n        <span class="token comment">// Necessary for external CSS imports to work</span>\n        <span class="token comment">// https://github.com/facebookincubator/create-react-app/issues/2677</span>\n        ident<span class="token punctuation">:</span> <span class="token string">\'postcss\'</span><span class="token punctuation">,</span>\n        plugins<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">[</span>\n          <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'postcss-flexbugs-fixes\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            browsers<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n              <span class="token string">\'>1%\'</span><span class="token punctuation">,</span>\n              <span class="token string">\'last 4 versions\'</span><span class="token punctuation">,</span>\n              <span class="token string">\'Firefox ESR\'</span><span class="token punctuation">,</span>\n              <span class="token string">\'not ie &lt; 9\'</span><span class="token punctuation">,</span> <span class="token comment">// React doesn\'t support IE8 anyway</span>\n            <span class="token punctuation">]</span><span class="token punctuation">,</span>\n            flexbox<span class="token punctuation">:</span> <span class="token string">\'no-2009\'</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      loader<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'sass-loader\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>\n      </div>\n<p>Sử dụng css module trong component</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n<span class="token keyword">import</span> classNames <span class="token keyword">from</span> <span class="token string">\'classnames\'</span>\n\n<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">\'./styles.module.scss\'</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> negative <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> surname <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>\n    <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classNames</span><span class="token punctuation">(</span>\n      styles<span class="token punctuation">[</span><span class="token string">\'name-container\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n      negative <span class="token operator">&amp;&amp;</span> styles<span class="token punctuation">[</span><span class="token string">\'name-negative\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n  <span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">[</span><span class="token string">\'name-content\'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Or should <span class="token constant">I</span> refer to you by <span class="token punctuation">{</span>surname<span class="token punctuation">}</span><span class="token operator">?</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span></code></pre>\n      </div>\n<p>Để tìm hiểu thêm về CSS Module trong React, <a href="https://blog.pusher.com/css-modules-react/">đọc bài này</a></p>\n<h2>Một số thư viện thường sử dụng</h2>\n<ul>\n<li>Luôn sử dụng <strong>react</strong>, <strong>react-dom</strong> mới nhất</li>\n<li><code class="language-text">classnames</code> để join <code class="language-text">className</code> theo điều kiện</li>\n<li><code class="language-text">i18n-js</code> để làm đa ngôn ngữ</li>\n<li><code class="language-text">lodash</code>, một số utility function sử lý chuổi, object này nọ</li>\n<li><code class="language-text">ramda</code> thay cho <code class="language-text">lodash</code> nếu bạn khoái pure function, và <code class="language-text">recompose</code> nếu đã thích <code class="language-text">ramda</code></li>\n<li><code class="language-text">dinero.js</code> để hiện thị và sử lý tiền</li>\n<li><code class="language-text">moment</code> để làm việc với date time</li>\n<li><code class="language-text">react-helmet</code> để thay đổi tag <code class="language-text">&lt;head&gt;</code> cho từng component</li>\n<li><code class="language-text">react-table</code> và <code class="language-text">react-virtualized</code> cho hiển thị dữ liệu kiểu table</li>\n<li><code class="language-text">react-redux</code> <code class="language-text">redux</code> <code class="language-text">redux-saga</code> và <code class="language-text">redux-logger</code> để quản lý state tập trung</li>\n<li><code class="language-text">react=router=dom</code> nếu làm web, và <code class="language-text">react-navigation</code> nếu là react native</li>\n</ul>\n<p>Cảm ơn bạn đã đọc hết bài viết</p>\n<p><a href="https://hackernoon.com/tips-on-react-for-large-scale-projects-3f9ece85983d">Link bài gốc: Tips on React for large scale projects</a>\nTác giả: Luis Felipe Zaguini</p>',frontmatter:{date:"June 08, 2018",path:"/2018-06-08-kinh-nghiem-lam-viec-voi-du-an-lon",tags:["react"],title:"Kinh nghiệm tổ chức file và thư mục React project",desc:"Có bao giờ cảm thấy lạc lối trong đóng code ngày càng lúc bự ra, một vài tip từ người có kinh nghiệm"}}},pathContext:{prev:{excerpt:"CSS modules là gì Dựa vào cái tên chắc phần nào cũng đoán được, nó là kiểu viết module hóa stylesheet thành từng file nhỏ, không còn sử dụng một file stylesheet tập trung nữa. Thêm vào đó, tất cả tên class lúc này sẽ được scope lại local, có thế viết...",html:'<h2>CSS modules là gì</h2>\n<p>Dựa vào cái tên chắc phần nào cũng đoán được, nó là kiểu viết module hóa stylesheet thành từng file nhỏ, không còn sử dụng một file stylesheet tập trung nữa. Thêm vào đó, tất cả tên class lúc này sẽ được scope lại local, có thế viết bằng vanilla CSS hay SCSS (lựa chọn hàng đầu của các frontend chất).</p>\n<p>file Button.scss</p>\n<div class="gatsby-highlight">\n      <pre class="language-scss"><code class="language-scss"><span class="token selector">.button </span><span class="token punctuation">{</span>\n    <span class="token property">padding</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>file Button.js</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> styles <span class="token keyword">from</span> <span class="token string">\'./Button.scss\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>button<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>An Luu Blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>Với cách viết này, class <code class="language-text">.button</code> lúc trả về sẽ là <code class="language-text">button-[hash string ở đây]</code>, nên sẽ không sợ bị trùng tên, chắc chắn không gây side effect lên các component khác vì chả bao giờ trung tên đâu.</p>\n<p>Một lợi ích khác là khi viết ta có thể viết <code class="language-text">.my-class-name</code> kiểu kebab case, nhưng khi viết js chúng ta có lại thích transform thành <code class="language-text">styles.myClassName</code> theo kiểu camel case.</p>\n<p>CSS module thoạt thì thấy không có chi đặc biệt, đơn giản chỉ là thế thôi, nhưng lợi ích của việc này là giúp chúng ta rất dễ maintain stylesheet vì nó buộc khi chúng ta viết css phải đơn giản nhất có thể.</p>\n<h2>Xóa style đầy tự tin</h2>\n<p>Thích nhất là viết feature mới và đập bỏ cái code chuối cả nãy hồi xưa. Phần khó nhất là gì? Làm sao biết được xóa cái style cũ này đi có bị gì không? Lỡ đâu đang xài đâu đó.</p>\n<p>Ở cái <code class="language-text">Button</code> ví dụ trên, phần stylesheet và component gần như là gắn chặt vào nhau như hình với bóng, mối quan hệ một-một giữa component và style sheet đó là một quy ước cho một component được viết tốt, file style sheet đó chỉ phục vụ cho đúng component đó, nếu mà lỡ xóa file stylesheet hoặc class nào mà đang sử dụng, chắc chắn quá trình build sẽ báo ngay lỗi cho chúng ta biết lỡ xóa phần nào.</p>\n<h2>Một vài lựa chọn nâng cao</h2>\n<p>Những thư viện CSS-trong-JS nâng cao như styled-components hay emotion cũng được nhiều front-end chất xài, cung cấp nhiều tính năng tân tiến hơn, nếu không ngại học thêm và tìm hiểu cách hoạt động thì cũng là lựa chọn không đến nổi.</p>\n<p>Với kiểu viết CSS Module với Vanilla CSS hay SCSS đã được tín nhiệm từ nhiều năm qua, bên cạnh đó thì SCSS còn có biến nè, kiểu viết nesting rất tiện lợi nè,... thì thật ra chỉ sử dụng SCSS thôi cũng đã là đủ</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">\'./App.scss\'</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>styles<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>log ra xem có cái mợ gì</p>\n<p><img src="https://cdn-images-1.medium.com/max/800/1*o9VrQ1idA8SqwJ_o6TL9Hg.png"></p>\n<p>Bài dịch của tác giả: Spencer Miskoviak</p>\n<p><a href="https://medium.com/@skovy/writing-maintainable-styles-and-components-with-css-modules-308a9216a6c2">Link bài gốc</a></p>\n<p><a href="https://medium.com/@kswanie21/css-modules-sass-in-create-react-app-37c3152de9">https://medium.com/@kswanie21/css-modules-sass-in-create-react-app-37c3152de9</a></p>',id:"E:/anluu/luckyluu/posts/2018-06-15-lam-viec-voi-css-module/index.md absPath of file >>> MarkdownRemark",timeToRead:2,frontmatter:{date:"2018-06-15T13:35:13.234Z",path:"/2018-06-15-lam-viec-voi-css-module",tags:["react","javascript"],title:"Làm việc với CSS Modules trong React"}},next:{excerpt:"Gọi là bản hổ trợ chính thức vì trước bản React 16 thì không có support, chúng ta phải dùng các thư viện bổ sung. Giờ thì nó official rồi nhé. Vấn đề Portal giải quyết Thông thường khi chúng ta có component cha là A, bên trong đó render component con...",html:'<p>Gọi là bản hổ trợ chính thức vì trước bản React 16 thì không có support, chúng ta phải dùng các thư viện bổ sung. Giờ thì nó official rồi nhé.</p>\n<h2>Vấn đề Portal giải quyết</h2>\n<p>Thông thường khi chúng ta có component cha là A, bên trong đó render component con là B, thì thằng B này sẽ luôn bị bọc lại bên trong A</p>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>component-c<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>component-a<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>component-b<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>\n      </div>\n<p>Giờ nếu ta muốn khi viết thì vẫn viết component B bên trong component A, nhưng kết quả html ta có được thì component B lại nằm trong component C. Đó là lúc chúng ta cần đến Portal, ta sẽ bọc component B bằng hàm <code class="language-text">createPortal</code>, để khi <code class="language-text">render</code> B thì nó lại <code class="language-text">render</code> ở C.</p>\n<h2>Cú pháp</h2>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">\'react-dom\'</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">createPortal</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> container<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>Trong đó</p>\n<ul>\n<li><code class="language-text">ReactDOM.createPortal</code> là hàm của <code class="language-text">react-dom</code></li>\n<li>child là thằng B, thằng con đi lông nhông không thèm ở nhà với cha nó</li>\n<li>container là nhà thằng hàng xóm, nơi thằng con B hoang đàng sẽ ở ké.</li>\n</ul>\n<h2>Sử dụng</h2>\n<p>Để sử dụng Portal, chúng ta tạo ra một component mới, độc lập với B, rồi đẩy thằng B hay bất kỳ đứa nào muốn có cuộc sống du mục thành child component của component mới tạo này, đặt tên là <code class="language-text">MyPortal</code> nha.</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">\'prop-types\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">\'react-dom\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MyPortal</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// tìm coi có đứa nào chịu chứa chấp nó không</span>\n    <span class="token keyword">const</span> haveTarget <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">// không nơi chứa chấp thì ta ko render luôn</span>\n    <span class="token keyword">return</span> haveTarget <span class="token operator">?</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createPortal</span><span class="token punctuation">(</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">,</span>\n      haveTarget\n    <span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">null</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\nMyPortal<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token comment">// là id của html element ta sẽ append cái đứa con hoang đàng vô</span>\n  target<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> MyPortal<span class="token punctuation">;</span></code></pre>\n      </div>\n<p>Component A sẽ viết như thế này</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token operator">...</span>\n<span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>component-a<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        Hello An<span class="token punctuation">.</span>Luu\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyPortal</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">\'</span>targetForB<span class="token punctuation">\'</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>component-b<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n                Em là <span class="token constant">B</span><span class="token operator">!</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MyPortal</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n<span class="token operator">...</span>\n\n<span class="token comment">// trong đó, id có thể nằm ở bất kỳ component nào đó khác, thậm chí window khác luôn mới ghê</span>\n\n<span class="token comment">// ví dụ component C</span>\n<span class="token operator">...</span>\n<span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>component-c<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        Em là <span class="token constant">C</span><span class="token operator">!</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>targetForB<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n<span class="token operator">...</span></code></pre>\n      </div>\n<p>Đọc thêm </p>\n<ul>\n<li><a href="https://reactjs.org/docs/portals.html">https://reactjs.org/docs/portals.html</a> </li>\n<li><a href="https://hackernoon.com/using-a-react-16-portal-to-do-something-cool-2a2d627b0202">https://hackernoon.com/using-a-react-16-portal-to-do-something-cool-2a2d627b0202</a></li>\n</ul>',
id:"E:/anluu/luckyluu/posts/2018-05-31-gioi-thieu-react-portal/index.md absPath of file >>> MarkdownRemark",timeToRead:2,frontmatter:{date:"2018-05-31T13:35:13.234Z",path:"/2018-05-31-gioi-thieu-react-portal",tags:["javascript","react"],title:"Giới thiệu React Portal"}}}}}});
//# sourceMappingURL=path---2018-06-08-kinh-nghiem-lam-viec-voi-du-an-lon-e1c365660084d9cc66c0.js.map